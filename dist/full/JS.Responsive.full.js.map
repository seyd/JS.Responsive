{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6855290a987ae81a21cd","webpack:///../tmp/JS.Responsive.entryFull.js"],"names":["Date","now","getTime","forEach","Array","prototype","callback","thisArg","len","length","i","call","window","JS","Responsive","$C","Error","version","win","document","navigator","screen","parseInt","parseFloat","TRUE","FALSE","NULL","UNDEFINED","undefined","EMPTY_STRING","SPACE_CHAR","WIDTH_STRING","HEIGHT_STRING","MOZ_PREFIX","MS_PREFIX","PORTRAIT_STRING","LANDSCAPE_STRING","HORIZONTAL_STRING","VERTICAL_STRING","_listeners","readyState","winLoaded","bind","on","type","fn","push","off","typeListeners","index","indexOf","splice","emit","args","arguments","apply","errors","shift","applyEach","unshift","console","log","listener","error","_features","init","config","is","hasAllTheseClasses","CHECK_DOCUMENT_SIZE_INTERVAL","horizontalSizes","verticalSizes","lastWinWidth","lastWinHeight","lastDocWidth","lastDocHeight","lastHorizontalBreakPoint","lastVerticalBreakPoint","actualHorizontalBreakPoint","actualVerticalBreakPoint","isDisabledHorizontalBreakPoints","isDisabledVerticalBreakPoints","LESS_APPENDIX","MORE_APPENDIX","_breakpointsInitialized","addHorizontalBreakPoint","name","width","addBreakPoint","removeHorizontalBreakPoint","removeBreakPoint","getActualHorizontalBreakPoint","disableHorizontalBreakPoints","_keepActualClasses","removeAllClassesInDimension","enableHorizontalBreakPoints","solveSizes","addVerticalBreakPoint","height","removeVerticalBreakPoint","getActualVerticalBreakPoint","disableVerticalBreakPoints","enableVerticalBreakPoints","getWindowWidth","getWindowHeight","getDocumentWidth","getDocumentHeight","breakpoints","initBreakpoints","setInterval","checkWindowOrDocumentResize","arrayGetIndexOfName","array","size","sizesArray","sizeAttr","sizeObj","sort","a","b","removeAllClasses","sizeAttributeName","removeClass","startTransactionClass","arrays","sizes","sizeAttributes","dimensions","nextSize","sizeIsEqualToCurrentBreakPoint","sizeIsGreaterThanCurrentBreakPoint","sizeIsGreaterOrEqualToCurrentBreakPoint","thisBreakPointIsLastOne","isSmallerThanNextBreakPoint","k","actualSize","firstIn","addClass","commitTransactionClass","isAdblockDetected","testDivCreated","ADBLOCK_STRING","NO_ADBLOCK_STRING","isAdblock","detectAdblock","initDetectAdblock","setTimeout","createTestDiv","getStyle","newValue","oldValue","hasClass","createElement","style","className","id","body","appendChild","el","prop","getComputedStyle","getPropertyValue","currentStyle","watchBrowserVersion","browser","agentData","findAgentDataByBrowserName","addBrowserVersionClasses","versionSearch","getPlatformInfo","detectAgentPlatform","getAgentTags","detectAgent","data","getAgentData","toLowerCase","identity","actualVersion","userAgent","split","isNaN","_justReturnValue","foundBrowser","returnValue","platform","dataString","string","dataProp","subString","clsName","replace","trim","toString","nua","np","nv","vendor","nall","agentList","add","opera","tags","ORIENTATION_STRING","UC_ORIENTATION_STRING","ucFirst","DEVICE_ORIENTATION_CLASS","LANDSCAPE_APPENDIX","PORTRAIT_APPENDIX","PRIMARY_APPENDIX","SECONDARY_APPENDIX","ANGLE_0_APPENDIX","ANGLE_90_APPENDIX","ANGLE_180_APPENDIX","ANGLE_270_APPENDIX","ORIENTATION_CLASSES","previousAngle","previousOrientationClass","getDeviceOrientation","angle","getDeviceOrientationAngle","detectDeviceOrientation","initDetectDeviceOrientation","newClass","newAngleClass","previousAngleClass","orientation","screenOrientation","isHiResDisplay","devicePixelRatio","detectHiRes","initHiResDisplayDetection","detectHiResDisplay","ratio","ratioCeil","Math","ceil","isLandscape","isPortrait","detectOrientation","initDetectOrientation","landscape","TOUCH_POINTS_TEXT","actualTouchClass","actualTouchCount","isTouch","documentElement","maxTouchPoints","msMaxTouchPoints","detectTouch","setNumberOfTouches","e","newCount","touches","isDocumentUnloading","lastDocumentState","onceLoaded","isDocumentLoaded","documentState","initDocState","onreadyStateChangeHandler","onunloadHandler","getDocumentState","newState","isWindowFocused","hasFocus","WINDOW_FOCUSED_CLASS","WINDOW_BLURED_CLASS","isFocused","focusBlur","initFB","onblurHandler","onfocusHandler","INACTIVE","WATCH_MOUSEMOVE","inactiveSoonestLimit","limit","inactiveLimits","inactiveLimitsMap","inactive","addedInactiveClasses","inactiveTimeout","inactiveMouseTimeout","lastActivity","mouseMoveWatcher","setInactiveTimeLimit","timeLimit","cb","newLimit","sortInactiveLimits","getInactiveTimeLimit","removeInactiveTimeLimit","inactivity","initInactivity","baseGroupActivity","eventName","onActivityHandler","inactivityWatchMouseMove","checkIncativity","timeFromLastActivity","unbind","dismissInactivity","compareLimits","isMobile","isMobileInitialised","www_detectmobilebrowsers_com","test","substr","detectMobileInit","AFTER_SCROLL_TIMEOUT","isScrolling","SCROLLING_CLASS","NO_SCROLLING_CLASS","timeoutedNoScrollProcess","initIsScrolling","onscrollHandler","setNoScrollingClass","clearTimeout","timeoutedNoScroll","timeBreakPointTimeout","timeBreakPointCurrentName","timeBreakPointsInit","dayTimeCurrent","dayTimePeriod","yearPeriod","lastDayTime","lastDayTimePeriod","lastYearPeriod","positionLat","positionLng","daylightTimeout","DAYLIGHT","MORNING","AFTERNOON","EVENING","NIGHT","DAYPERIODS","getDayTimePeriod","getYearPeriod","setTimeBreakPoints","sinceReady","docReadyTime","_initTimeBased","time","activateNext","bp","remains","thenRemoveClass","setLocation","lat","lng","isDaylight","day","dayOfYear","sunrise","computeSunrise","sunset","computeSunset","daylight","setHours","date","start","getFullYear","diff","oneDay","floor","getSunrise","getSunset","timeBased","initTimeBased","getHours","realInitTimeBased","setClasses","getMilliseconds","getSeconds","getMinutes","year","firstDates","testPeriod","longitude","latitude","zenith","D2R","PI","R2D","lnHour","t","M","L","sin","RA","atan","tan","Lquadrant","RAquadrant","sinDec","cosDec","cos","asin","cosH","H","acos","T","UT","getMonth","getDate","isUsingTouches","touchVsMouseUsingTouch","touchVsMouseLastTime","initTouchVsMouse","mouseHandler","actualUrlClasses","urlChanged","checkUrlChanges","urlBased","initUrlBased","_checkUrlChanges","prefix","evtName","converted","parseUrlItems","location","path","parsed","reduce","result","item","getWindowSize","getDocumentSize","sizeType","isIE","getHtmlElement","getBodyElement","ucSizeType","docEl","htmlElement","bodyElement","getElementByTagName","tagName","getElementsByTagName","arrayIndex","value","_exactMatch","arrayContains","arrayRemoveItemsStartingWith","startingWith","reg","RegExp","match","eventType","handlerFn","addEventListener","attachEvent","event","removeEventListener","detachEvent","html","isInTransactionClassMode","classes","join","addTransactionClass","startsWith","removeTransactionClass","addedClasses","removedClasses","str","charAt","toUpperCase","slice","appName","classNames","missingMethod","method","cfg","hasOwnProperty","module","exports"],"mappings":"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","file":"JS.Responsive.full.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"JS.Responsive\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JS.Responsive\"] = factory();\n\telse\n\t\troot[\"JS.Responsive\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6855290a987ae81a21cd","/**\n * @license JS.Responsive\n * (c) 2015 WEZEO http://wezeo.com\n * License: MIT\n *\n * @version 3.2.4\n *\n * @author Johnny Seyd <seyd@wezeo.com>, Ctibor Laky <laky@wezeo.com>\n *\n * @description JS.Responsive is a free tool for responsive styling and responsive javascript coding.\n *\n * @see http://responsive.lab.wezeo.com/\n *\n */\n(function () {\n\n\t'use strict';\n\n\t// Polyfill\n\tif ( !Date.now ) {\n\t\tDate.now = function now() {\n\t\t\treturn new Date().getTime();\n\t\t};\n\t}\n\n\t// Simple version of polyfill Array.prototype.forEach()\n\tif ( ![].forEach ) {\n\t\tArray.prototype.forEach = function ( callback, thisArg ) {\n\t\t\tvar len = this.length;\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tcallback.call( thisArg, this[ i ], i, this )\n\t\t\t}\n\t\t};\n\t}\n\n\t// base namespace\n\tif ( !window.JS )\n\t\twindow.JS = {};\n\n\t// defines and inicialize only once\n\tif ( JS.Responsive )\n\t\treturn;\n\n\n\t// -------------------------------------------------------------------------------------------------\n\t// --- CLASS ---------------------------------------------------------------------------------------\n\t// -------------------------------------------------------------------------------------------------\n\n\t/**\n\t * Constructor is PRIVATE, client must use only class methods!!!!!\n\t * @constructor\n\t * @alias JS.Responsive\n\t *\n\t * @emit documentReady - when document becomes ready\n\t *\n\t */\n\tvar $C = JS.Responsive = function () {\n\t\tthrow new Error( \"JS.Responsive cannot have instances.\" );\n\t};\n\n\t/**\n\t * Library version\n\t * @const {String}\n\t */\n\t$C.version = '3.2.4';\n\n\t// -------------------------------------------------------------------------------------------------\n\t// --- CONFIG --------------------------------------------------------------------------------------\n\t// -------------------------------------------------------------------------------------------------\n\n\tvar\n\t\t// substitution because minimalization (internal variables are shorten in minimizing process)\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tnavigator = win.navigator,\n\t\tscreen = win.screen,\n\t\tparseInt = win.parseInt,\n\t\tparseFloat = win.parseFloat,\n\n\t\tTRUE = true,\n\t\tFALSE = false,\n\t\tNULL = null,\n\t\tUNDEFINED = undefined,\n\t\tEMPTY_STRING = '',\n\t\tSPACE_CHAR = ' ',\n\t\tWIDTH_STRING = 'width',\n\t\tHEIGHT_STRING = 'height',\n\t\tMOZ_PREFIX = 'moz',\n\t\tMS_PREFIX = 'ms',\n\t\tPORTRAIT_STRING = 'portrait',\n\t\tLANDSCAPE_STRING = 'landscape',\n\t\tHORIZONTAL_STRING = 'horizontal',\n\t\tVERTICAL_STRING = 'vertical',\n\n\t\t/**\n\t\t * @param {Object}\n\t\t * Storing _listeners types and callback functions\n\t\t * structure:\n\t\t * {\n\t\t * \teventTypeName: [callbackFn, ...],\n\t\t * \teventTypeName: [callbackFn, ...],\n\t\t * \t...\n\t\t * \teventTypeName: [callbackFn, ...]\n\t\t * }\n\t\t * @private\n\t\t */\n\t\t_listeners = {};\n\n\n\t// -------------------------------------------------------------------------------------------------\n\t// --- CORE LISTENER  ------------------------------------------------------------------------------\n\t// -------------------------------------------------------------------------------------------------\n\n\tif (document.readyState === \"complete\") { winLoaded(); }\n\telse bind( win, 'load', winLoaded );\n\n\t// -------------------------------------------------------------------------------------------------\t\n\t// --- PUBLIC --------------------------------------------------------------------------------------\n\t// -------------------------------------------------------------------------------------------------\n\n\t/**\n\t * Register callback to referenced event type\n\t * @param {String} type - type of an event callback will be registered to\n\t * @param {Function} fn - callback function called after event occurred\n\t * @returns {Object} JS.Responsive - for chaining\n\t */\n\t$C.on = function ( type, fn ) {\n\n\t\tif ( !_listeners[ type ] )\n\t\t\t_listeners[ type ] = [];\n\t\t_listeners[ type ].push( fn );\n\t\treturn $C;\n\n\t};\n\n\t/**\n\t * Unregister callback of referenced event type\n\t * @param {String} type - type of an event callback where callback is registered\n\t * @param {Function} fn - callback function to be unregistered\n\t * @returns {Object} JS.Responsive - for chaining\n\t */\n\t$C.off = function ( type, fn ) {\n\n\t\tif ( !_listeners[ type ] )\n\t\t\treturn;\n\t\tvar typeListeners = _listeners[ type ],\n\t\t\tindex = typeListeners.indexOf( fn );\n\t\tif ( index != -1 )\n\t\t\ttypeListeners.splice( index, 1 );\n\t\treturn $C;\n\n\t};\n\n\n\t/**\n\t * Emit event, can be used for emitting custom events too, just register them via JS.Responsive.on method.\n\t * @param {String} type - type of an event callback will be registered to\n\t * @param {...*} arguments - used when calling callbacks\n\t * @returns {Object} JS.Responsive - for chaining\n\t */\n\t$C.emit = function ( type ) {\n\n\t\t// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/arguments\n\t\tvar args = (arguments.length === 1 ? [ arguments[ 0 ] ] : Array.apply( null, arguments )),\n\t\t\terrors = [];\n\n\t\targs.shift(); // first argument is event type, we temporary remove it\n\t\tif ( _listeners[ type ] )\n\t\t\t_listeners[ type ].forEach( applyEach );\n\n\t\targs.unshift( type ); // type added back\n\t\tif ( _listeners[ 'all' ] ) // _listeners to all event types\n\t\t\t_listeners[ 'all' ].forEach( applyEach );\n\n\t\tif ( errors.length ) {\n\t\t\t// if more errors, we want to print all to console\n\t\t\tif ( errors.length > 1 )\n\t\t\t\tconsole.log( 'All errors in JS.Responsive onchangeHandler:', errors );\n\t\t\tthrow errors[ 0 ];\n\t\t}\n\n\t\tfunction applyEach( listener ) {\n\t\t\ttry {\n\t\t\t\tlistener.apply( listener, args );\n\t\t\t}\n\t\t\tcatch ( error ) {\n\t\t\t\terrors.push( error );\n\t\t\t}\n\t\t}\n\n\t\treturn $C;\n\n\t};\n\n\t/**\n\t * @prop {object} - List of included features in current bundle, each property represent one feature and value is initialisation\n\t * function of the feature, so it can be initialised later\n\t * @private\n\t */\n\n\t$C._features = {};\n\n\t/**\n\t * Initialise JS.Responsive\n\t * @param {Object} [config] - Object with key value pairs of features which will be initialised, if not\n\t * provided, all features will be initialised. If you provide empty object, none of features will be initialised.\n\t */\n\n\t$C.init = function ( config ) {\n\n\t\tinit( config );\n\t\treturn this;\n\n\t};\n\n\t/**\n\t * Tests if HTML element contains given class names.\n\t * @param {...String} classNames - class names\n\t * @returns {Boolean}\n\t * @example JS.Responsive.is('mobile') === true, when HTML contains \"mobile\" class\n\t * @example JS.Responsive.is('portrait touch') === true, when HTML contains \"portrait\" and \"touch\" class\n\t * @example JS.Responsive.is('portrait touch', 'mobile') === true, when HTML contains (\"portrait\" and \"touch\" class) OR ('mobile')\n\t */\n\t$C.is = function () {\n\n\t\tfor ( var i = 0; i < arguments.length; i++ )\n\t\t\tif ( hasAllTheseClasses( arguments[ i ] ) )\n\t\t\t\treturn TRUE; // if once true then disjunction is true\n\n\t\treturn FALSE;\n\n\t};\n\n\t// -------------------------------------------------------------------------------------------------\n\t// --- OPTIONAL CONTENT ----------------------------------------------------------------------------\n\t// -------------------------------------------------------------------------------------------------\n\n\t/**\n *\n * Adding horizontal and vertical breakpoints, similar use case to media queries, but with js API.\n * @module breakpoints\n * @pretty-name Size breakpoints\n * @teaser Similar to media queries (width, height).\n *\n * @custom-class $breakpointName$-more - applied when display size is higher or equal to provided size for the name DEMO: http://codepen.io/WEZEO/pen/PbZMmq\n * @custom-class $breakpointName$-less - applied when display size is smaller than provided size for the name DEMO: http://codepen.io/WEZEO/pen/PbZMmq\n * @custom-class $breakpointName$ - applied when display size is higher or equal to provided size and less then next breakpoint size if any DEMO: http://codepen.io/WEZEO/pen/PbZMmq\n *\n * @emits changedBreakPointHorizontal - fires when new horizontal breakpoint is reached\n * @emits changedBreakPointVertical - fires when new vertical breakpoint is reached\n *\n * @example <caption>Example usage of module</caption>\n *\n * // JS:\n * JS.Responsive\n *     .init()\n *     .addHorizontalBreakPoint('micro', 420)\n *     .addHorizontalBreakPoint('tiny', 478)\n *     .addHorizontalBreakPoint('small', 768)\n *     .addHorizontalBreakPoint('medium', 992)\n *     .addHorizontalBreakPoint('large', 1230);\n *\n * // CSS:\n * #github-ribbon {\n *\t    position: absolute;\n *\t    top: -(5/$font-size)+rem;\n *      ...\n *\n *      html.medium-less & {\n *\t\t    height: (88/$font-size)+rem;\n *\t\t    padding: 0;\n *\t\t    border: 0;\n *\t\t    background-color: transparent;\n *\t    }\n *\n *      html.small-less & {\n *\t\t    display: none;\n *\t    }\n * }\n * */\n\n\nvar\n\t// (ms) how offen is checking the document size (not just window, but content size)\n\tCHECK_DOCUMENT_SIZE_INTERVAL = 500,\n\n\thorizontalSizes = [],\n\tverticalSizes = [],\n\n\tlastWinWidth = 0,\n\tlastWinHeight = 0,\n\n\tlastDocWidth = 0,\n\tlastDocHeight = 0,\n\n\tlastHorizontalBreakPoint = EMPTY_STRING,\n\tlastVerticalBreakPoint = EMPTY_STRING,\n\n\tactualHorizontalBreakPoint = EMPTY_STRING,\n\tactualVerticalBreakPoint = EMPTY_STRING,\n\n\tisDisabledHorizontalBreakPoints = FALSE,\n\tisDisabledVerticalBreakPoints = FALSE,\n\n\tLESS_APPENDIX = '-less',\n\tMORE_APPENDIX = '-more',\n\n\t_breakpointsInitialized;\n\n\n/**\n * Sets a new horizontal break point for responsive styling.\n * @param {String} name - Unique name of given break point. Only lower case letters and comma is allowed /[a-z\\-]+/\n * @param {Number} width - Width size in pixels.\n * @returns {Object} this - for chaining.\n * @example JS.Responsive.addHorizontalBreakPoint('medium', 960);\n * @memberof module:breakpoints\n * @alias JS.Responsive.addHorizontalBreakPoint\n * @since 3.0.0\n */\n$C.addHorizontalBreakPoint = function ( name, width ) {\n\taddBreakPoint( name, width, horizontalSizes, WIDTH_STRING );\n\treturn this;\n};\n\n\n/**\n * Removes a horizontal break point for responsive styling.\n * @param {String} name - Existing name of break point.\n * @returns {Object} this - for chaining.\n * @example JS.Responsive.removeHorizontalBreakPoint('medium');\n * @memberof module:breakpoints\n * @alias JS.Responsive.removeHorizontalBreakPoint\n * @since 3.0.0\n */\n$C.removeHorizontalBreakPoint = function ( name ) {\n\tremoveBreakPoint( name, horizontalSizes );\n\treturn this;\n};\n\n\n/**\n * Returns name of actual horizontal break point.\n * @returns {String|null} Name of actual horizontal break point or null if no horizontal break point is set.\n * @memberof module:breakpoints\n * @alias JS.Responsive.getActualHorizontalBreakPoint\n * @since 3.0.0\n */\n$C.getActualHorizontalBreakPoint = function () {\n\n\treturn actualHorizontalBreakPoint || NULL;\n};\n\n\n/**\n * Disable horizontal break points checking and remove all class names from HTML element.\n * @param {Boolean} [_keepActualClasses] - If true, keeps (freezes) actual class names in HTML element.\n * @returns {Object} this - for chaining.\n * @memberof module:breakpoints\n * @alias JS.Responsive.disableHorizontalBreakPoints\n * @since 3.0.0\n */\n$C.disableHorizontalBreakPoints = function ( _keepActualClasses ) {\n\n\tif ( !_keepActualClasses )\n\t\tremoveAllClassesInDimension( horizontalSizes );\n\tisDisabledHorizontalBreakPoints = TRUE;\n\treturn this;\n};\n\n\n/**\n * Enable horizontal break points checking (if was disabled before).\n * @returns {Object} this - for chaining.\n * @memberof module:breakpoints\n * @alias JS.Responsive.enableHorizontalBreakPoints\n * @since 3.0.0\n */\n$C.enableHorizontalBreakPoints = function () {\n\n\tisDisabledHorizontalBreakPoints = FALSE;\n\tsolveSizes();\n\treturn this;\n};\n\n\n/**\n * Returns if is horizontal break points checking disabled.\n * @returns {Boolean}\n * @memberof module:breakpoints\n * @alias JS.Responsive.isDisabledHorizontalBreakPoints\n * @since 3.0.0\n */\n$C.isDisabledHorizontalBreakPoints = function () {\n\n\treturn isDisabledHorizontalBreakPoints;\n};\n\n\n/**\n * Sets a new vertical break point for responsive styling.\n * @param {String} name - Unique name of given break point. Only lower case letters and comma is allowed /[a-z\\-]+/\n * @param {Number} height - Height size in pixels.\n * @returns {Object} this - for chaining.\n * @example JS.Responsive.addVerticalBreakPoint('vertical-medium', 960);\n * @memberof module:breakpoints\n * @alias JS.Responsive.addVerticalBreakPoint\n * @since 3.0.0\n */\n$C.addVerticalBreakPoint = function ( name, height ) {\n\n\taddBreakPoint( name, height, verticalSizes, HEIGHT_STRING );\n\treturn this;\n};\n\n\n/**\n * Removes a vertical break point for responsive styling.\n * @param {String} name - Existing name of break point.\n * @returns {Object} this - for chaining.\n * @example JS.Responsive.removeVerticalBreakPoint('vertical-medium');\n * @memberof module:breakpoints\n * @alias JS.Responsive.removeVerticalBreakPoint\n * @since 3.0.0\n */\n$C.removeVerticalBreakPoint = function ( name ) {\n\n\tremoveBreakPoint( name, verticalSizes );\n\treturn this;\n};\n\n\n/**\n * Returns name of actual vertical break point.\n * @returns {String|null} Name of actual vertical break point or null if no vertical break point is set.\n * @memberof module:breakpoints\n * @alias JS.Responsive.getActualVerticalBreakPoint\n * @since 3.0.0\n */\n$C.getActualVerticalBreakPoint = function () {\n\n\treturn actualVerticalBreakPoint || NULL;\n};\n\n\n/**\n * Disable vertical break points checking and remove all class names from HTML element.\n * @param {Boolean} [_keepActualClasses] - If true, keeps (freezes) actual class names in HTML element.\n * @returns {Object} this - for chaining.\n * @memberof module:breakpoints\n * @alias JS.Responsive.disableVerticalBreakPoints\n * @since 3.0.0\n */\n$C.disableVerticalBreakPoints = function ( _keepActualClasses ) {\n\n\tif ( !_keepActualClasses )\n\t\tremoveAllClassesInDimension( verticalSizes );\n\tisDisabledVerticalBreakPoints = TRUE;\n\treturn this;\n};\n\n\n/**\n * Enable vertical break points checking (if was disabled before).\n * @returns {Object} this - for chaining.\n * @memberof module:breakpoints\n * @alias JS.Responsive.enableVerticalBreakPoints\n * @since 3.0.0\n */\n$C.enableVerticalBreakPoints = function () {\n\n\tisDisabledVerticalBreakPoints = FALSE;\n\tsolveSizes();\n\treturn this;\n};\n\n\n/**\n * Returns if is vertical break points checking disabled.\n * @returns {Boolean}\n * @memberof module:breakpoints\n * @alias JS.Responsive.isDisabledVerticalBreakPoints\n * @since 3.0.0\n */\n$C.isDisabledVerticalBreakPoints = function () {\n\n\treturn isDisabledVerticalBreakPoints;\n};\n\n\n/**\n * Returns current window width in pixels.\n * @function\n * @returns {Number}\n * @example if (JS.Responsive.getWindowWidth()>JS.Responsive.getWindowHeight()) ...\n * @memberof module:breakpoints\n * @alias JS.Responsive.getWindowWidth\n * @since 3.0.0\n */\n$C.getWindowWidth = getWindowWidth;\n\n\n/**\n * Returns current window height in pixels.\n * @function\n * @returns {Number}\n * @example if (JS.Responsive.getWindowWidth()>JS.Responsive.getWindowHeight()) ...\n * @memberof module:breakpoints\n * @alias JS.Responsive.getWindowHeight\n * @since 3.0.0\n */\n$C.getWindowHeight = getWindowHeight;\n\n\n/**\n * Returns current document width in pixels (can be smaller than window size because scrollbar reduces it).\n * @function\n * @returns {Number}\n * @example if (JS.Responsive.getDocumentWidth()>JS.Responsive.getDocumentHeight()) ...\n * @memberof module:breakpoints\n * @alias JS.Responsive.getDocumentWidth\n * @since 3.0.0\n */\n$C.getDocumentWidth = getDocumentWidth;\n\n\n/**\n * Returns current document height in pixels (can be smaller than window size because scrollbar reduces it).\n * @function\n * @returns {Number}\n * @example if (JS.Responsive.getDocumentWidth()>JS.Responsive.getWindowHeight()) ...\n * @memberof module:breakpoints\n * @alias JS.Responsive.getDocumentHeight\n * @since 3.0.0\n */\n$C.getDocumentHeight = getDocumentHeight;\n\n$C._features.breakpoints = initBreakpoints;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction initBreakpoints() {\n\n\tsetInterval( checkWindowOrDocumentResize, CHECK_DOCUMENT_SIZE_INTERVAL );\n\n\tbind( window, 'resize', solveSizes );\n\n\t// for mobiles - on mobile devices is window size changing while scrolling content - because some panels are hiding\n\tbind( document, 'touchmove', checkWindowOrDocumentResize );\n\tbind( document, 'touchend', checkWindowOrDocumentResize );\n\n\t_breakpointsInitialized = TRUE;\n}\n\n// on mobile devices is window size changing while scrolling content - because some panels are hiding\nfunction checkWindowOrDocumentResize() {\n\n\tif ( getWindowWidth() != lastWinWidth || getWindowHeight() != lastWinHeight ||\n\t\tgetDocumentWidth() != lastDocWidth || getDocumentHeight() != lastDocHeight )\n\t\tsolveSizes();\n}\n\nfunction arrayGetIndexOfName( array, name ) {\n\n\tfor ( var i = 0; i < array.length; i++ )\n\t\tif ( array[ i ].name == name )\n\t\t\treturn i;\n\treturn -1;\n}\n\n\nfunction addBreakPoint( name, size, sizesArray, sizeAttr ) {\n\n\tvar index = arrayGetIndexOfName( sizesArray, name );\n\t// if does not exists this name\n\tif ( index == -1 ) {\n\t\tvar sizeObj = { name: name };\n\t\tsizeObj[ sizeAttr ] = parseInt( size, 10 );\n\t\tsizesArray.push( sizeObj );\n\t\tsizesArray.sort( function ( a, b ) {\n\t\t\treturn a[ sizeAttr ] - b[ sizeAttr ];\n\t\t} );\n\t\tsolveSizes();\n\t}\n}\n\nfunction removeBreakPoint( name, sizesArray ) {\n\n\tvar index = arrayGetIndexOfName( sizesArray, name );\n\t// if does exists this name\n\tif ( index >= 0 ) {\n\t\tsizesArray.splice( index, 1 );\n\t\tremoveAllClasses( name );\n\t\tsolveSizes();\n\t}\n}\n\nfunction removeAllClassesInDimension( sizesArray ) {\n\n\tsizesArray.forEach( function ( size ) {\n\t\tremoveAllClasses( size.name );\n\t} );\n\n}\n\nfunction removeAllClasses( sizeAttributeName ) {\n\n\tremoveClass( sizeAttributeName + LESS_APPENDIX );\n\tremoveClass( sizeAttributeName );\n\tremoveClass( sizeAttributeName + MORE_APPENDIX );\n}\n\nfunction solveSizes() {\n\n\tif ( !_breakpointsInitialized ) {\n\t\treturn;\n\t}\n\n\tstartTransactionClass();\n\n\tvar arrays = [],\n\t\tsizes = [],\n\t\tsizeAttributes = [],\n\t\tdimensions = [];\n\n\tif ( !isDisabledHorizontalBreakPoints ) {\n\t\tarrays.push( horizontalSizes );\n\t\tsizes.push( getWindowWidth() );\n\t\tsizeAttributes.push( WIDTH_STRING );\n\t\tdimensions.push( HORIZONTAL_STRING );\n\t}\n\n\tif ( !isDisabledVerticalBreakPoints ) {\n\t\tarrays.push( verticalSizes );\n\t\tsizes.push( getWindowHeight() );\n\t\tsizeAttributes.push( HEIGHT_STRING );\n\t\tdimensions.push( VERTICAL_STRING );\n\t}\n\n\tlastHorizontalBreakPoint = actualHorizontalBreakPoint;\n\tactualHorizontalBreakPoint = EMPTY_STRING;\n\tlastVerticalBreakPoint = actualVerticalBreakPoint;\n\tactualVerticalBreakPoint = EMPTY_STRING;\n\n\n\tvar size,\n\t\tnextSize,\n\t\tsizeIsEqualToCurrentBreakPoint,\n\t\tsizeIsGreaterThanCurrentBreakPoint,\n\t\tsizeIsGreaterOrEqualToCurrentBreakPoint,\n\t\tthisBreakPointIsLastOne,\n\t\tisSmallerThanNextBreakPoint;\n\n\t// for all dimensions, both 'horizontal' and 'vertical'\n\tfor ( var k = 0; k < arrays.length; k++ ) {\n\n\t\tvar actualSize = sizes[ k ],\n\t\t\tfirstIn = FALSE,\n\t\t\ta = arrays[ k ],\n\t\t\tsizeAttributeName = sizeAttributes[ k ];\n\n\t\t// for all break points in current dimension\n\t\tfor ( var i = 0; i < a.length; i++ ) {\n\t\t\tsize = a[ i ];\n\t\t\tnextSize = a[ i + 1 ];\n\t\t\tremoveAllClasses( size.name );\n\n\t\t\tsizeIsEqualToCurrentBreakPoint = (size[ sizeAttributeName ] == actualSize);\n\t\t\tsizeIsGreaterThanCurrentBreakPoint = (size[ sizeAttributeName ] < actualSize);\n\t\t\tsizeIsGreaterOrEqualToCurrentBreakPoint = (size[ sizeAttributeName ] <= actualSize);\n\t\t\tthisBreakPointIsLastOne = (i == a.length - 1);\n\t\t\tisSmallerThanNextBreakPoint = nextSize && nextSize[ sizeAttributeName ] > actualSize;\n\n\t\t\tif ( sizeIsGreaterOrEqualToCurrentBreakPoint )\n\t\t\t\taddClass( size.name + MORE_APPENDIX );\n\n\t\t\tif ( !firstIn ) {\n\t\t\t\tif ( sizeIsEqualToCurrentBreakPoint || (sizeIsGreaterThanCurrentBreakPoint && (thisBreakPointIsLastOne || isSmallerThanNextBreakPoint)) ) {\n\t\t\t\t\taddClass( size.name );\n\t\t\t\t\tif ( dimensions[ k ] == HORIZONTAL_STRING )\n\t\t\t\t\t\tactualHorizontalBreakPoint = size.name;\n\t\t\t\t\tif ( dimensions[ k ] == VERTICAL_STRING )\n\t\t\t\t\t\tactualVerticalBreakPoint = size.name;\n\t\t\t\t\tfirstIn = TRUE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !sizeIsGreaterOrEqualToCurrentBreakPoint )\n\t\t\t\taddClass( size.name + LESS_APPENDIX );\n\t\t}\n\t}\n\n\tcommitTransactionClass();\n\n\tif ( lastHorizontalBreakPoint != actualHorizontalBreakPoint )\n\t\t$C.emit( 'changedBreakPointHorizontal', actualHorizontalBreakPoint, lastHorizontalBreakPoint );\n\tif ( lastVerticalBreakPoint != actualVerticalBreakPoint )\n\t\t$C.emit( 'changedBreakPointVertical', actualVerticalBreakPoint, lastVerticalBreakPoint );\n\n}\n\r\n/**\n *\n * Detection of Adblock or kind of ads blocking programs/apps\n * @module detect-ad-block\n * @since 3.0.0\n * @pretty-name Adblock detection\n * @teaser Detect weather user has Adblock enabled.\n *\n * @custom-class ad-block - ad-block detected\n * @custom-class no-ad-block - ad-block not detected\n *\n * @emits changedAdblock\n *\n * */\n\nvar isAdblockDetected = false,\n\ttestDivCreated,\n\n\tADBLOCK_STRING = 'ad-block',\n\tNO_ADBLOCK_STRING = 'no-ad-block';\n\n/**\n * Returns true if current device has Adblock or similar blocking app installed.\n * @returns {Boolean}\n * @memberof module:detect-ad-block\n * @alias JS.Responsive.isAdblock\n * @since 3.0.0\n */\n$C.isAdblock = function () {\n\treturn detectAdblock();\n};\n\n$C._features.detectAdblock = initDetectAdblock;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\n// init detection\nfunction initDetectAdblock() {\n\tsetTimeout( detectAdblock, 500 );\n}\n\nfunction detectAdblock() {\n\tcreateTestDiv();\n\n\t// console.log('dingdong', getStyle(testDivCreated, 'display') == 'none', getStyle(testDivCreated, 'width') != '1px', getStyle(testDivCreated, 'height') != '1px');\n\tisAdblockDetected = getStyle( testDivCreated, 'display' ) == 'none' || getStyle( testDivCreated, 'width' ) != '1px' || getStyle( testDivCreated, 'height' ) != '1px';\n\n\tvar newValue = isAdblockDetected ? ADBLOCK_STRING : NO_ADBLOCK_STRING,\n\t\toldValue = isAdblockDetected ? NO_ADBLOCK_STRING : ADBLOCK_STRING;\n\n\tif ( !hasClass( newValue ) ) {\n\t\taddClass( newValue );\n\t\tremoveClass( oldValue );\n\n\t\t$C.emit( 'changedAdblock', newValue, oldValue );\n\t}\n\n\treturn isAdblockDetected;\n}\n\nfunction createTestDiv() {\n\tif ( testDivCreated ) return;\n\ttestDivCreated = document.createElement( 'div' );\n\ttestDivCreated.style.width = '1px';\n\ttestDivCreated.style.height = '1px';\n\ttestDivCreated.className = 'ad-banner';\n\ttestDivCreated.id = 'ad-banner';\n\tdocument.body.appendChild( testDivCreated );\n}\n\nfunction getStyle( el, prop ) {\n\tif ( typeof getComputedStyle !== 'undefined' ) {\n\t\treturn getComputedStyle( el, null ).getPropertyValue( prop );\n\t} else {\n\t\treturn el.currentStyle[ prop ]; // IE < 9\n\t}\n}\r\n/**\n *\n * User agent detection for precise fixes.\n * @module detect-agent\n * @pretty-name User agent detection\n * @teaser User agent detection for precise fixes.\n *\n * @custom-class $browserName$-v$version$-le - applied when browser is lower or equal version\n * @custom-class $browserName$-v$version$-ge - applied when browser is higher or equal version\n * @custom-class $browserName$-v$version$-l - applied when browser is lower version\n * @custom-class $browserName$-v$version$-g - applied when browser is higher version\n *\n * */\n\n/** Set watching given browser and its version\n * @param {String} browser - browser name, see function getAgentData() attribute \"identity\"\n * @param {Number} version - browser version number\n * @returns {Object} this - for chaining.\n * @example JS.Responsive.watchBrowserVersion('Webkit', 530);\n * @example JS.Responsive.watchBrowserVersion('Chrome', 47);\n * @example JS.Responsive.watchBrowserVersion('MSIE', 10);\n * @example JS.Responsive.watchBrowserVersion('Edge', 12);\n * @memberof module:detect-agent\n * @alias JS.Responsive.watchBrowserVersion\n * @since 3.0.0\n */\n$C.watchBrowserVersion = function ( browser, version ) {\n\n\tvar agentData = findAgentDataByBrowserName( browser );\n\n\tif ( agentData )\n\t\taddBrowserVersionClasses( agentData, version );\n\telse\n\t\tthrow new Error( \"Browser '\" + browser + \"' was not found.\" );\n\n\tif ( agentData && !agentData.versionSearch )\n\t\tthrow new Error( \"Parameter '\" + browser + \"' doesn't support version search.\" );\n\n\treturn this;\n};\n\n/**\n * Returns information about platform, browser and its version\n * @returns {Object} containing \"platform\" as array, \"browser\" as string and \"version\" as number.\n * @example JS.Responsive.getPlatformInfo() returns\n *   {\n\t *\t\tplatform: Array[\"webkit\", \"windows\", \"chrome\"],\n\t *\t\tbrowser: \"chrome\",\n\t *\t\tversion: 43.5\n\t *   }\n * @memberof module:detect-agent\n * @alias JS.Responsive.getPlatformInfo\n * @since 3.0.0\n */\n$C.getPlatformInfo = function () {\n\n\treturn detectAgentPlatform( TRUE );\n};\n/**\n * Returns browser tags\n * @returns {Array} all browser tags strings in Array.\n * @method\n * @memberof module:detect-agent\n * @alias JS.Responsive.getAgentTags\n * @since 3.0.0\n **/\n\n$C.getAgentTags = getAgentTags;\n\n$C._features.detectAgent = detectAgentPlatform;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction findAgentDataByBrowserName( browser ) {\n\n\tvar data = getAgentData();\n\tbrowser = browser.toLowerCase();\n\tfor ( var i = 0; i < data.length; i++ ) {\n\t\tif ( browser == data[ i ].identity.toLowerCase() )\n\t\t\treturn data[ i ];\n\t}\n\treturn NULL;\n}\n\nfunction addBrowserVersionClasses( agentData, version ) {\n\n\tif ( agentData.versionSearch ) {\n\t\tvar browser = agentData.identity.toLowerCase(),\n\t\t\tactualVersion = parseFloat( navigator.userAgent.split( agentData.versionSearch || agentData.identity )[ 1 ] );\n\t\tif ( (version + EMPTY_STRING).indexOf( '.' ) == -1 )\n\t\t\tactualVersion = parseInt( actualVersion );\n\n\t\tif ( !isNaN( actualVersion ) ) {\n\n\t\t\tif ( version == actualVersion ) {\n\t\t\t\taddClass( browser + '-v' + version + '-le' );\n\t\t\t\taddClass( browser + '-v' + version + '-ge' );\n\t\t\t}\n\n\t\t\tif ( version > actualVersion )\n\t\t\t\taddClass( browser + '-v' + version + '-l' );\n\n\t\t\tif ( version < actualVersion )\n\t\t\t\taddClass( browser + '-v' + version + '-g' );\n\n\t\t\treturn TRUE;\n\t\t}\n\t}\n\treturn FALSE;\n}\n\nfunction detectAgentPlatform( _justReturnValue ) {\n\n\tvar data = getAgentData(),\n\t\tfoundBrowser = FALSE,\n\t\treturnValue = {\n\t\t\tplatform: [],\n\t\t\tbrowser: [],\n\t\t\tversion: NULL\n\t\t};\n\n\tfor ( var i = 0; i < data.length; i++ ) {\n\n\t\tvar dataString = data[ i ].string,\n\t\t\tdataProp = data[ i ].prop;\n\n\t\tif ( (dataString || dataProp) && (!foundBrowser || !data[ i ].versionSearch) ) {\n\t\t\tif ( dataProp || dataString.indexOf( data[ i ].subString ) != -1 ) {\n\t\t\t\tvar clsName = data[ i ].identity.toLowerCase();\n\t\t\t\tif ( _justReturnValue )\n\t\t\t\t\treturnValue.platform.push( clsName );\n\t\t\t\telse\n\t\t\t\t\taddClass( clsName );\n\t\t\t\tif ( data[ i ].versionSearch ) {\n\t\t\t\t\tvar version = parseFloat( navigator.userAgent.split( data[ i ].versionSearch || data[ i ].identity )[ 1 ] );\n\n\t\t\t\t\tif ( clsName != 'webkit' )\n\t\t\t\t\t\tfoundBrowser = TRUE; // this is exception for webkit\n\n\t\t\t\t\tif ( !isNaN( version ) ) {\n\t\t\t\t\t\tif ( _justReturnValue )\n\t\t\t\t\t\t\treturnValue.version = version;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t// if more classes with spaces, adds versions to all classes\n\t\t\t\t\t\t// (e.g. msie-v11 wow-v11)\n\t\t\t\t\t\t\taddClass( clsName.replace( /( |$)/g, '-v' + parseInt( version ) + ' ' ).trim() );\n\t\t\t\t\t\tif ( version != parseInt( version ) && !_justReturnValue )\n\t\t\t\t\t\t// if more classes with spaces, adds versions to all classes\n\t\t\t\t\t\t\taddClass( clsName.replace( /( |$)/g, '-v' + version.toString().replace( '.', '-' ) + ' ' ).trim() );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif ( _justReturnValue ) {\n\t\treturnValue.browser = returnValue.platform[ returnValue.platform.length - 1 ];\n\t\treturn returnValue;\n\t}\n}\n\n// SOURCE: http://www.quirksmode.org/js/detect.html\n// no longer supported / updated\n// @todo update/test on new browsers\nfunction getAgentData() {\n\tvar nua = navigator.userAgent,\n\t\tnp = navigator.platform,\n\t\tnv = navigator.vendor,\n\t\tnall = nua + SPACE_CHAR + np + SPACE_CHAR + nv,\n\t\tagentList = [];\n\n\tfunction add( identity, string, subString, versionSearch, prop ) {\n\t\tagentList.push( {\n\t\t\tidentity: identity,\n\t\t\tstring: string,\n\t\t\tsubString: subString == UNDEFINED ? identity : subString,\n\t\t\tversionSearch: versionSearch !== TRUE ? versionSearch : identity + '/',\n\t\t\tprop: prop\n\t\t} );\n\t}\n\n\tadd( \"Edge\", nua, NULL, TRUE );\n\tadd( \"Webkit\", nua, NULL, TRUE );\n\tadd( \"Android\", nall );\n\tadd( \"CoreMedia\", nall );\n\tadd( \"QuickTime\", nall );\n\tadd( \"BlackBerry\", nall );\n\tadd( \"Windows\", np, \"Win\" );\n\tadd( \"Mac\", np );\n\tadd( \"MacOSX\", nua, \"Intel Mac OS X\" ); // because on iPhone is \"like Mac OS X\"\n\tadd( \"iPhone\", nua );\n\tadd( \"iOS\", nua, \"iPhone\" );\n\tadd( \"iPad\", nall );\n\tadd( \"iOS\", nall, \"iPad\" );\n\tadd( \"iPod\", nall );\n\tadd( \"iOS\", nall, \"iPod\" );\n\tadd( \"PSP\", nall ); //PlayStation Portable\n\tadd( \"Kindle\", nall );\n\tadd( \"Linux\", np );\n\tadd( \"Maxthon\", nua, NULL, TRUE );\n\tadd( \"Chrome\", nua, NULL, TRUE );\n\tadd( \"OmniWeb\", nua, NULL, TRUE );\n\tadd( \"Safari\", nv, \"Apple\", \"Version/\" );\n\tadd( \"Opera\", UNDEFINED, NULL, \"Version/\", win.opera );\n\tadd( \"OperaMini\", nall, \"Opera Mini\" );\n\tadd( \"iCab\", nv );\n\tadd( \"Konqueror\", nv, \"KDE\" );\n\tadd( \"Firefox\", nua, NULL, TRUE );\n\tadd( \"Camino\", nv );\n\tadd( \"Netscape\", nua ); // for newer Netscapes (6+)\n\tadd( \"MSIE\", nua, NULL, \"MSIE\" );\n\tadd( \"MSIE WOW\", nua, \"WOW64\", \"rv:\" );\n\tadd( \"Mozilla\", nua, \"Gecko\", \"rv\" );\n\tadd( \"Mozilla\", nua, NULL, \"Mozilla\" ); // for older Netscapes (4-)\n\n\treturn agentList;\n\n}\n\n\nfunction getAgentTags() {\n\tfor ( var i = 0, data = getAgentData(), tags = []; i < data.length; i++ )\n\t\ttags.push( data[ i ].identity.toLowerCase() );\n\treturn tags;\n}\n\r\n/**\n *\n * Detection of device orientation (not orientation of viewport aka width/height ration)\n * @module detect-device-orientation\n * @pretty-name Device orientation\n * @teaser Mobile devices detection.\n *\n * @custom-class device-orientation-portrait\n * @custom-class device-orientation-landscape\n * @custom-class device-orientation-0 - most common state (default for device)\n * @custom-class device-orientation-90 - device is left side down\n * @custom-class device-orientation-180 - upside down\n * @custom-class device-orientation-270 - device is right side down\n *\n * @emits changedDeviceOrientationAngle\n * @emits changedDeviceOrientation\n *\n * */\n\nvar ORIENTATION_STRING = 'orientation',\n\tUC_ORIENTATION_STRING = ucFirst( ORIENTATION_STRING ),\n\tDEVICE_ORIENTATION_CLASS = 'device-' + ORIENTATION_STRING,\n\tLANDSCAPE_APPENDIX = '-' + LANDSCAPE_STRING,\n\tPORTRAIT_APPENDIX = '-' + PORTRAIT_STRING,\n\tPRIMARY_APPENDIX = '-primary',\n\tSECONDARY_APPENDIX = '-secondary',\n\tANGLE_0_APPENDIX = '-0',\n\tANGLE_90_APPENDIX = '-90',\n\tANGLE_180_APPENDIX = '-180',\n\tANGLE_270_APPENDIX = '-270',\n\tORIENTATION_CLASSES = {\n\t\t0: DEVICE_ORIENTATION_CLASS + ANGLE_0_APPENDIX,\n\t\t90: DEVICE_ORIENTATION_CLASS + ANGLE_90_APPENDIX,\n\t\t180: DEVICE_ORIENTATION_CLASS + ANGLE_180_APPENDIX,\n\t\t270: DEVICE_ORIENTATION_CLASS + ANGLE_270_APPENDIX,\n\t},\n\tpreviousAngle,\n\tpreviousOrientationClass;\n\n/**\n * Returns device orientation \"portrait\" or \"landscape\".\n * @returns {String} \"portrait\" or \"landscape\"\n * @memberof module:detect-device-orientation\n * @alias JS.Responsive.getDeviceOrientation\n * @since 3.0.0\n */\n$C.getDeviceOrientation = function () {\n\n\tvar angle = getDeviceOrientationAngle();\n\treturn angle == 0 || angle == 180 ? PORTRAIT_STRING : LANDSCAPE_STRING;\n};\n\n/**\n * Returns angle of device orientation 0, 90, 180, 270 in degrees cross clock wise.\n * @returns {Number} 0, 90, 180, 270\n * @memberof module:detect-device-orientation\n * @alias JS.Responsive.getDeviceOrientationAngle\n * @since 3.0.0\n */\n$C.getDeviceOrientationAngle = function () {\n\n\treturn getDeviceOrientationAngle();\n};\n\n$C._features.detectDeviceOrientation = initDetectDeviceOrientation;\n\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\n// init detection\nfunction initDetectDeviceOrientation() {\n\tdetectDeviceOrientation();\n\tbind( win,'orientationchange', detectDeviceOrientation );\n}\n\n// adds \"device-orientation-portrait\" or \"device-orientation-landscape\" class  and  \"device-orientation-0\", \"device-orientation-90\", \"device-orientation-180\" or \"device-orientation-270\" class\nfunction detectDeviceOrientation() {\n\tvar angle = getDeviceOrientationAngle();\n\n\tif ( angle === previousAngle ) // no change!\n\t\treturn;\n\n\tvar newClass = DEVICE_ORIENTATION_CLASS + (angle == 0 || angle == 180 ? PORTRAIT_APPENDIX : LANDSCAPE_APPENDIX),\n\t\tnewAngleClass = ORIENTATION_CLASSES[ angle ],\n\t\tpreviousAngleClass = ORIENTATION_CLASSES[ previousAngle ];\n\n\tremoveClass( previousAngleClass );\n\taddClass( newAngleClass );\n\n\tpreviousAngle = angle;\n\n\tif ( newClass != previousOrientationClass ) {\n\t\tremoveClass( previousOrientationClass );\n\t\taddClass( newClass );\n\n\t\tpreviousOrientationClass = newClass;\n\n\t\t$C.emit( 'changedDeviceOrientation', newClass, previousOrientationClass, newAngleClass, previousAngleClass );\n\t}\n\n\n\t$C.emit( 'changedDeviceOrientationAngle', newAngleClass, previousAngleClass, newClass, previousOrientationClass );\n\n\treturn newAngleClass;\n}\n\n\n// returns device orientation 0, 90, 180, 270 (degrees cross clock wise)\nfunction getDeviceOrientationAngle() {\n\tvar orientation = 0;\n\t// win.orientation is deprecated (https://developer.mozilla.org/en-US/docs/Web/API/Window/orientation)\n\tif ( typeof win.orientation == 'number' ) {\n\t\torientation = win.orientation;\n\t}\n\telse {\n\t\tvar //screenOrientation = screen.orientation || screen.mozOrientation || screen.msOrientation;\n\t\t\t// minification to form:  n=F[We]||F[$+Ee]||F[Z+Ee];\n\t\t\t// in compare to:         n=screen.orientation||screen.mozOrientation||screen.msOrientation;\n\t\t\tscreenOrientation = screen[ ORIENTATION_STRING ] ||\n\t\t\t\tscreen[ MOZ_PREFIX + UC_ORIENTATION_STRING ] ||\n\t\t\t\tscreen[ MS_PREFIX + UC_ORIENTATION_STRING ];\n\t\tif ( screenOrientation ) {\n\t\t\tif ( typeof screenOrientation == 'string' ) {\n\t\t\t\t// is commented because zero is default\n\t\t\t\t//if (screenOrientation == PORTRAIT_STRING + PRIMARY_APPENDIX)\n\t\t\t\t//orientation = 0;\n\t\t\t\tif ( screenOrientation == LANDSCAPE_STRING + PRIMARY_APPENDIX )\n\t\t\t\t\torientation = 90;\n\t\t\t\tif ( screenOrientation == PORTRAIT_STRING + SECONDARY_APPENDIX )\n\t\t\t\t\torientation = 180;\n\t\t\t\tif ( screenOrientation == LANDSCAPE_STRING + SECONDARY_APPENDIX )\n\t\t\t\t\torientation = 270;\n\t\t\t}\n\t\t\telse if ( screenOrientation.angle ) {\n\t\t\t\torientation = screenOrientation.angle;\n\t\t\t}\n\t\t}\n\t}\n\tif ( orientation == -90 )\n\t\torientation = 270;\n\treturn orientation;\n}\n\r\n/**\n *\n * Detection of high resolution display\n * @module detect-hi-res\n * @pretty-name Display resolution\n * @teaser Display resolution detection.\n *\n * @custom-class hires-display - applied when display is high resolution DEMO: http://codepen.io/WEZEO/pen/gLEgar\n * @custom-class normal-display - applied when display is lower resolution DEMO: http://codepen.io/WEZEO/pen/gLEgar\n * @custom-class display-pixel-ratio-$-more - current display pixel ratio is higher then $ value\n * @custom-class display-pixel-ratio-$-less - current display pixel ratio is lower or equal then $ value\n * @example <caption>Example usage of module</caption>\n * #logo {\n *      background-image: url('wezeologo.jpg');\n *\n *      html.hires-display & {\n *        background-image: url('wezeologo-hires.jpg');\n *      }\n *    }\n *\n * */\n\n/**\n * Detects if current device has a high resolution display (such as retina).\n * @returns {Boolean} The return value is not changing in time.\n * @memberof module:detect-hi-res\n * @alias JS.Responsive.isHiResDisplay\n * @since 3.0.0\n */\n\n$C.isHiResDisplay = function () {\n\n\treturn win.devicePixelRatio > 1;\n};\n\n$C._features.detectHiRes = initHiResDisplayDetection;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\n// adds \"hires-display\" or \"normal-display\" class (once)\nfunction initHiResDisplayDetection() {\n\tdetectHiResDisplay();\n\tbind( window, 'resize', detectHiResDisplay ); // also zoom and moving to another display triggers this\n}\n\nfunction detectHiResDisplay() {\n\t// clear previous state\n\tremoveClass( 'display-pixel-ratio-', TRUE ); // remove all classes starting with display-pixel-ratio-\n\tremoveClass( 'normal-display' );\n\tremoveClass( 'hires-display' );\n\n\tvar ratio = win.devicePixelRatio,\n\t\tratioCeil,\n\t\ti;\n\n\taddClass( ratio > 1 ? 'hires-display' : 'normal-display' );\n\n\tif ( typeof ratio != 'undefined' ) {\n\t\tratioCeil = Math.ceil( ratio );\n\n\t\tfor ( i = 0; i <= ratioCeil; i++ ) {\n\t\t\tif ( ratio > i )\n\t\t\t\taddClass( 'display-pixel-ratio-' + i + '-more' );\n\t\t\telse if ( ratio <= i )\n\t\t\t\taddClass( 'display-pixel-ratio-' + i + '-less' );\n\n\t\t}\n\t}\n}\r\n/**\n *\n * Detection of viewport orientation (not device physical orientation)\n * @module detect-orientation\n * @pretty-name Viewport orientation\n * @teaser Viewport orientation detection.\n *\n * @custom-class portrait\n * @custom-class landscape\n *\n * @emits changedOrientation\n *\n * */\n\n/**\n * Returns true if current device has display landscape oriented (width is larger than height).\n * @returns {Boolean}\n * @memberof module:detect-orientation\n * @alias JS.Responsive.isLandscape\n * @since 3.0.0\n */\n$C.isLandscape = function () {\n\n\treturn getWindowWidth() > getWindowHeight();\n};\n\n/**\n * Returns true if current device has display portrait oriented (height is larger than width).\n * @returns {Boolean}\n * @memberof module:detect-orientation\n * @alias JS.Responsive.isPortrait\n * @since 3.0.0\n */\n$C.isPortrait = function () {\n\n\treturn !this.isLandscape();\n};\n\n$C._features.detectOrientation = initDetectOrientation;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\n// init detection\nfunction initDetectOrientation() {\n\tdetectOrientation();\n\tbind( win, 'resize', detectOrientation );\n}\n\n// adds \"portrait\" or \"landscape\" class\nfunction detectOrientation() {\n\tvar landscape = $C.isLandscape(),\n\t\tnewValue = landscape ? LANDSCAPE_STRING : PORTRAIT_STRING,\n\t\toldValue = landscape ? PORTRAIT_STRING : LANDSCAPE_STRING;\n\n\tif ( !hasClass( newValue ) ) {\n\t\taddClass( newValue );\n\t\tremoveClass( oldValue );\n\t}\n\n\t$C.emit( 'changedOrientation', newValue, oldValue );\n\n\treturn newValue;\n}\r\n/**\n *\n * Detection whether device is touch capable\n * @module detect-touch\n * @pretty-name Touch capability\n * @teaser Touch capability detection.\n *\n * @custom-class touch - is touch capable\n * @custom-class no-touch - is not\n *\n * @custom-class touch-points-$ - touches count\n *\n * @emits touchPointsChanged - fires with number of touches, and previous number of touches as parameters\n *\n * */\n\nvar TOUCH_POINTS_TEXT = 'touch-points-',\n\tactualTouchClass,\n\tactualTouchCount = 0;\n\n/**\n * Detects if current device supports touch events.\n * @returns {Boolean} The return value is not changing in time.\n * @memberof module:detect-touch\n * @alias JS.Responsive.isTouch\n * @since 3.0.0\n */\n$C.isTouch = function () {\n\n\treturn 'ontouchstart' in document.documentElement\n\t\t|| navigator.maxTouchPoints > 0\n\t\t|| navigator.msMaxTouchPoints > 0;\n};\n\n$C._features.detectTouch = detectTouch;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\n// adds \"touch\" or \"no-touch\" class (once)\nfunction detectTouch() {\n\n\tbind( document, 'touchstart', setNumberOfTouches );\n\tbind( document, 'touchend', setNumberOfTouches );\n\n\taddClass( $C.isTouch() ? 'touch' : 'no-touch' );\n}\n\nfunction setNumberOfTouches( e ) {\n\n\tvar newCount = e.touches.length,\n\t\tnewClass = TOUCH_POINTS_TEXT + newCount;\n\n\tif ( newCount != actualTouchCount ){\n\n\t\tremoveClass( actualTouchClass );\n\n\t\tif ( newCount ){\n\n\t\t\taddClass( newClass );\n\t\t\tactualTouchClass = newClass;\n\t\t}\n\n\t\t$C.emit( 'touchPointsChanged', newCount, actualTouchCount );\n\t\tactualTouchCount = newCount;\n\t}\n\n\n}\r\n/**\n *\n * Detection of document loading state.\n * @module document-state\n * @pretty-name Document loading\n * @teaser Document loading states detection.\n *\n * @custom-class state-uninitialized - has not started loading yet\n * @custom-class state-loading - is loading\n * @custom-class state-interactive - Has loaded enough and the user can interact with it\n * @custom-class state-complete - fully loaded\n * @custom-class state-loaded - when document is loaded (including all images)\n * @custom-class state-unloading - when document is unloading\n *\n * @emits changedDocumentState - Arguments: {String} - new-state, {String} - old-state, both are states strings like classes but without \"state-\" prefix\n *\n **/\n\nvar isDocumentUnloading = FALSE,\n\n\tlastDocumentState = 'uninitialized',\n\tonceLoaded = FALSE;\n\n/**\n * Returns if document is in state that everything is loaded.\n * @returns {Boolean}\n * @memberof module:document-state\n * @alias JS.Responsive.isDocumentLoaded\n * @since 3.0.0\n */\n$C.isDocumentLoaded = function () {\n\n\treturn isDocumentLoaded;\n};\n\n\n/**\n * Returns true if user is leaving current page.\n * @returns {Boolean}\n * @memberof module:document-state\n * @alias JS.Responsive.isDocumentUnloading\n * @since 3.0.0\n */\n$C.isDocumentUnloading = function () {\n\n\treturn isDocumentUnloading;\n};\n\n$C._features.documentState = initDocState;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction initDocState() {\n\tbind( document, 'readystatechange', onreadyStateChangeHandler );\n\tbind( window, 'load', onreadyStateChangeHandler );\n\tbind( window, 'unload', onunloadHandler );\n\tbind( window, 'onbeforeunload', onunloadHandler );\n}\n\nfunction getDocumentState() {\n\treturn isDocumentLoaded ? 'loaded' : document.readyState;\n}\n\nfunction onreadyStateChangeHandler() {\n\tif ( !onceLoaded ) {\n\t\t/*\n\t\t ---uncommnon states----------------------------------------------------------------\n\t\t uninitialized - Has not started loading yet\n\t\t loading - Is loading\n\t\t ---common states-------------------------------------------------------------------\n\t\t interactive - Has loaded enough and the user can interact with it\n\t\t complete - Fully loaded\n\t\t ---custom state--------------------------------------------------------------------\n\t\t loaded - when document is loaded (including all images)\n\t\t unloading - when document is unloading\n\t\t */\n\t\tremoveClass( 'state-uninitialized' );\n\t\tremoveClass( 'state-loading' );\n\t\tremoveClass( 'state-interactive' );\n\t\t// 'state-complete' sa nebude odstranovat\n\t\tvar newState = getDocumentState();\n\t\taddClass( 'state-' + newState );\n\t\tif ( newState == 'loaded' )\n\t\t\tonceLoaded = TRUE;\n\n\t\tif ( newState != lastDocumentState ) {\n\t\t\t$C.emit( 'changedDocumentState', newState, lastDocumentState );\n\t\t\tlastDocumentState = newState;\n\t\t}\n\t}\n}\n\nfunction onunloadHandler() {\n\taddClass( 'state-unloading' );\n\tisDocumentUnloading = TRUE;\n\t$C.emit( 'documentUnloading' );\n}\n\r\n/**\n *\n * Detection of window focus\n * @module focus-blur\n * @pretty-name Window focus detection\n * @teaser Is window focused or not?\n *\n * @custom-class window-focused\n * @custom-class window-blured\n *\n * @emits windowFocused - Arguments: {Boolean} isFocused\n *\n **/\n\nvar\n\t// Opera does not support document.hasFocus()\n\tisWindowFocused = document.hasFocus ? document.hasFocus() : TRUE,\n\n\tWINDOW_FOCUSED_CLASS = 'window-focused',\n\tWINDOW_BLURED_CLASS = 'window-blured';\n\n/**\n * Returns if document is in state that everything is loaded.\n * @returns {Boolean}\n * @memberof module:focus-blur\n * @alias JS.Responsive.isDocumentLoaded\n * @since 3.0.0\n */\n$C.isDocumentLoaded = function () {\n\n\treturn isDocumentLoaded;\n};\n\n\n/**\n * Returns true if user is leaving current page.\n * @returns {Boolean}\n * @memberof module:focus-blur\n * @alias JS.Responsive.isDocumentUnloading\n * @since 3.0.0\n */\n$C.isDocumentUnloading = function () {\n\n\treturn isDocumentUnloading;\n};\n\n\n/**\n * Returns true if window is focused/active.\n * @returns {Boolean}\n * @memberof module:focus-blur\n * @alias JS.Responsive.isFocused\n * @since 3.0.0\n */\n$C.isFocused = function () {\n\n\treturn isWindowFocused;\n};\n\n$C._features.focusBlur = initFB;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction initFB() {\n\tbind( window, 'blur', onblurHandler );\n\tbind( window, 'focus', onfocusHandler );\n\n\tif ( isWindowFocused )\n\t\tonfocusHandler();\n\telse\n\t\tonblurHandler();\n}\n\nfunction onblurHandler( e ) {\n\tisWindowFocused = FALSE;\n\tremoveClass( WINDOW_FOCUSED_CLASS );\n\taddClass( WINDOW_BLURED_CLASS );\n\t$C.emit( 'windowFocused', FALSE );\n}\n\nfunction onfocusHandler( e ) {\n\tisWindowFocused = TRUE;\n\tremoveClass( WINDOW_BLURED_CLASS );\n\taddClass( WINDOW_FOCUSED_CLASS );\n\t$C.emit( 'windowFocused', TRUE );\n}\r\n/**\n *\n * Detection of window focus\n * @module inactivity\n * @since 3.1.0\n * @pretty-name Inactivity detection\n * @teaser Be notified that user is inactive\n *\n * @custom-class inactive\n * @custom-class inactive-$timeLimitName$\n *\n * @emits inactive - Arguments: {Number} time in seconds of inactivity\n *\n **/\n\nvar\n\tINACTIVE = 'inactive',\n\tWATCH_MOUSEMOVE = 5, // time of inactivity in seconds to start watching mouse move as user activity\n\n\tinactiveSoonestLimit = { limit: 60 * 1000, name: INACTIVE }, // default 1 min\n\tinactiveLimits = [ inactiveSoonestLimit ],\n\tinactiveLimitsMap = { inactive: inactiveSoonestLimit },\n\taddedInactiveClasses = [],\n\tinactiveTimeout,\n\tinactiveMouseTimeout,\n\tlastActivity,\n\tmouseMoveWatcher;\n\n/**\n * Set time limit in seconds for considering window as inactive and optionally applying name of a limit if provided.\n * @param {Number} timeLimit - in seconds.\n * @param {String} [name=inactivity] - name of the limit, will be applied as className to window when user reaches the\n * time limit of inactivity. NOTE: The className will be applied with 'inactive-' prefix!, if no name provided, default\n * className 'inactive' will be applied instead.\n * @param {Function} callback - called when timeLimit is reached, `callback(timeLimit, name)`\n *\n * @memberof module:inactivity\n * @alias JS.Responsive.setInactiveTimeLimit\n * @since 3.1.0\n */\n$C.setInactiveTimeLimit = function ( timeLimit, name, cb ) {\n\n\tvar newLimit;\n\n\ttimeLimit *= 1000;\n\tname = name || INACTIVE;\n\n\tif ( inactiveLimitsMap[ name ] ) {\n\n\t\tinactiveLimitsMap[ name ].limit = timeLimit;\n\t\tinactiveLimitsMap[ name ].cb = cb;\n\t}\n\telse {\n\n\t\tnewLimit = { limit: timeLimit, name: name, cb: cb };\n\t\tinactiveLimitsMap[ name ] = newLimit;\n\t\tinactiveLimits.push( newLimit );\n\t}\n\n\tsortInactiveLimits();\n\n\tinactiveSoonestLimit = inactiveLimits[ 0 ];\n\n};\n\n/**\n * Returns time limit object which is plain object with `limit` property with seconds for time limit asked\n * via optional `name` parameter, if no name is provided, the default 'inactive' object will be returned.\n * @returns {{limit: Number, name: String, cb:Function}}\n *\n * @memberof module:inactivity\n * @alias JS.Responsive.getInactiveTimeLimit\n * @since 3.1.0\n */\n$C.getInactiveTimeLimit = function ( name ) {\n\n\tname = name || INACTIVE;\n\treturn inactiveLimitsMap[ name ];\n\n};\n\n/**\n * Deletes timeLimit object based on optional `name` parameter, if no name is provided, the default 'inactive' object will be deleted.\n *\n * @memberof module:inactivity\n * @alias JS.Responsive.removeInactiveTimeLimit\n * @since 3.1.0\n */\n$C.removeInactiveTimeLimit = function ( name ) {\n\n\tname = name || INACTIVE;\n\tinactiveLimits.splice( inactiveLimits.indexOf( inactiveLimitsMap[ name ] ), 1 );\n\tdelete inactiveLimitsMap[ name ];\n\n};\n\n$C._features.inactivity = initInactivity;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction initInactivity() {\n\n\tvar baseGroupActivity = [ 'touchstart', 'touchend', 'touchmove', 'mousedown', 'mouseup', 'mousewheel', 'keydown' ];\n\tbaseGroupActivity.forEach( function ( eventName ) {\n\n\t\tbind( document, eventName, onActivityHandler );\n\n\t} );\n\n\tlastActivity = Date.now();\n\t$C.setInactiveTimeLimit( WATCH_MOUSEMOVE, 'mouse-watch', inactivityWatchMouseMove );\n\tsortInactiveLimits();\n\tinactiveSoonestLimit = inactiveLimits[ 0 ];\n\tinactiveTimeout = setTimeout( checkIncativity, inactiveSoonestLimit.limit );\n}\n\nfunction inactivityWatchMouseMove() {\n\n\tmouseMoveWatcher = bind( document, 'mousemove', onActivityHandler );\n}\n\nfunction checkIncativity() {\n\n\tvar timeFromLastActivity = Date.now() - lastActivity,\n\t\tclassName;\n\n\tif ( timeFromLastActivity >= inactiveSoonestLimit.limit ) {\n\n\t\tclassName = inactiveSoonestLimit.name == INACTIVE ? INACTIVE : INACTIVE + '-' + inactiveSoonestLimit.name;\n\n\t\tif ( addClass( className ) ) {\n\n\t\t\taddedInactiveClasses.push( className );\n\t\t\t$C.emit( className );\n\t\t}\n\n\t\tif ( inactiveSoonestLimit.cb )\n\t\t\tinactiveSoonestLimit.cb( inactiveSoonestLimit.limit, inactiveSoonestLimit.name )\n\n\t\tsortInactiveLimits();\n\t\tinactiveSoonestLimit = inactiveLimits[ inactiveLimits.indexOf( inactiveSoonestLimit ) + 1 ];\n\n\t\tif ( inactiveSoonestLimit )\n\t\t\tinactiveTimeout = setTimeout( checkIncativity, inactiveSoonestLimit.limit - timeFromLastActivity );\n\t\telse {\n\t\t\tinactiveSoonestLimit = inactiveLimits[ 0 ];\n\t\t\tinactiveTimeout = null;\n\t\t}\n\t}\n\telse {\n\n\t\tinactiveTimeout = setTimeout( checkIncativity, inactiveSoonestLimit.limit - timeFromLastActivity );\n\t}\n}\n\nfunction onActivityHandler() {\n\n\tlastActivity = Date.now();\n\n\tif ( !inactiveTimeout && inactiveSoonestLimit )\n\t\tinactiveTimeout = setTimeout( checkIncativity, inactiveSoonestLimit.limit );\n\n\tif ( mouseMoveWatcher )\n\t\tmouseMoveWatcher = unbind( document, 'mousemove', mouseMoveWatcher );\n\n\tdismissInactivity();\n\n}\n\nfunction dismissInactivity() {\n\n\tif ( !addedInactiveClasses.length ) return;\n\n\taddedInactiveClasses.forEach( function ( className ) {\n\n\t\tremoveClass( className );\n\n\t} );\n\n\t$C.emit( 'userActiveAgain', addedInactiveClasses );\n\taddedInactiveClasses.length = 0;\n\n\tsortInactiveLimits();\n\tinactiveSoonestLimit = inactiveLimits[ 0 ];\n\n\tif ( inactiveSoonestLimit )\n\t\tinactiveTimeout = setTimeout( checkIncativity, inactiveSoonestLimit.limit );\n\n}\n\nfunction sortInactiveLimits() {\n\n\tinactiveLimits.sort( compareLimits );\n\n}\n\nfunction compareLimits( a, b ) {\n\n\tif ( a.limit < b.limit )\n\t\treturn -1;\n\telse if ( a.limit > b.limit )\n\t\treturn 1;\n\treturn 0;\n\n}\r\n/**\n *\n * Detection of mobile vs desktop devices\n * @module is-mobile\n * @pretty-name Mobile device detection\n * @teaser Mobile devices detection.\n *\n * @custom-class mobile\n * @custom-class desktop\n *\n **/\n\n/**\n * Returns information if device is a mobile device.\n * @todo Find out if mobile is just a phone or tablet also...\n * @returns {Boolean} The return value is not changing in time.\n * @memberof module:is-mobile\n * @alias JS.Responsive.isMobile\n * @since 3.0.0\n */\n\n\n$C.isMobile = function () {\n\tif ( isMobileInitialised )\n\t\treturn isMobile;\n\telse\n\t\treturn www_detectmobilebrowsers_com();\n};\n\nvar isMobile = FALSE,\n\tisMobileInitialised = FALSE;\n\nfunction www_detectmobilebrowsers_com() {\n\tisMobileInitialised = TRUE;\n\t// from http://detectmobilebrowsers.com/\n\t// last update 2015-12-29 --- IMPORTANT: new version redirects page to 'http://detectmobilebrowser.com/mobile', so I replaced it by return 'window.location = MOBILE_WEBSITE' with ';'\n\tisMobile = (function ( a ) {\n\t\treturn (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test( a ) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test( a.substr( 0, 4 ) ));\n\t})( navigator.userAgent || navigator.vendor || window.opera );\n\n\treturn isMobile;\n}\n\n$C._features.isMobile = detectMobileInit;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\n// adds \"mobile\" or \"desktop\" class (once)\nfunction detectMobileInit() {\n\taddClass( $C.isMobile() ? 'mobile' : 'desktop' );\n}\r\n/**\n *\n * Detection of scroll usage\n * @module is-scrolling\n * @pretty-name Scroll usage\n * @teaser Is user scrolling?\n *\n * @custom-class scrolling\n * @custom-class no-scrolling\n *\n * @emits scrollStart\n * @emits scrolling\n * @emits scrollStop\n *\n **/\n\nvar\n\t// how many miliseconds stays class name 'scroll' after scrolling\n\t// (and than switch to 'no-scroll' class name)\n\tAFTER_SCROLL_TIMEOUT = 250,\n\n\tisScrolling = FALSE,\n\n\tSCROLLING_CLASS = 'scrolling',\n\tNO_SCROLLING_CLASS = 'no-' + SCROLLING_CLASS,\n\n\ttimeoutedNoScrollProcess;\n\n\n/**\n * Returns true if page is just scrolled or in scrolling.\n * @returns {Boolean}\n * @memberof module:is-scrolling\n * @alias JS.Responsive.isScrolling\n * @since 3.0.0\n */\n$C.isScrolling = function () {\n\n\treturn isScrolling;\n};\n\n\n$C._features.isScrolling = initIsScrolling;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction initIsScrolling() {\n\tbind( window, 'scroll', onscrollHandler );\n\tsetNoScrollingClass();\n}\n\nfunction onscrollHandler() {\n// -----------------------------------------------------TODO: if IE8 and less - return;  --- no support of \"scroll | no-scroll\" ----------------------------------\n\t//if (isIE() --- need version detection --------------\n\tcheckWindowOrDocumentResize();\n\tclearTimeout( timeoutedNoScrollProcess );\n\ttimeoutedNoScrollProcess = setTimeout( timeoutedNoScroll, AFTER_SCROLL_TIMEOUT );\n\n\tif ( !isScrolling ) {\n\t\tremoveClass( NO_SCROLLING_CLASS );\n\t\taddClass( SCROLLING_CLASS );\n\t\t$C.emit( 'scrollStart' );\n\t\tisScrolling = TRUE;\n\t}\n\n\t$C.emit( 'scrolling' );\n}\n\nfunction timeoutedNoScroll() {\n\tsetNoScrollingClass();\n\tisScrolling = FALSE;\n\tcheckWindowOrDocumentResize();\n\t$C.emit( 'scrollStop' );\n}\n\nfunction setNoScrollingClass() {\n\tremoveClass( SCROLLING_CLASS );\n\taddClass( NO_SCROLLING_CLASS );\n}\r\n/**\n *\n * Time related classes and custom time breakpoints from document loaded event.\n * @module time-based\n * @since 3.0.0\n * @pretty-name Time breakpoints and time related classes\n * @teaser Time related classes, day period, year seasson.\n *\n * @custom-class day-time-$h - day time class where $ is actual hour (non zero-padded)\n * @custom-class day-period-$periodName$ - day pariod class where name can be one of morning, afternoon, evening or night\n * @custom-class year-period-$periodName$ - year pariod class where name can be one of spring, summer, autumn or winter\n * @custom-class $timeBreakpointName$ - where name is custom name provided via setTimeBreakPoints\n * @custom-class daylight-true - value of calculated daylight after location is provided by setLocation( lat, lng )\n * @custom-class daylight-false - value of calculated daylight after location is provided by setLocation( lat, lng )\n *\n * @emits changedDayTime - Arguments: {String} dayTimeCurrent, {String} lastDayTime, both have same syntax as classes (day-time-$h)\n * @emits changedDayPeriod - Arguments: {String} dayTimePeriod, {String} lastDayTimePeriod, both have same syntax as classes (day-period-$periodName$)\n * @emits changedYearPeriod - Arguments: {String} yearPeriod, {String} lastYearPeriod, both have same syntax as classes (year-period-$periodName$)\n * @emits timeBreakpointReached - Arguments: {String} timeBreakPointReached - name provided via setTimeBreakPoints, {String|Undefined} timeBreakPointPrevious - if any\n *\n **/\n\nvar timeBreakPointTimeout,\n\ttimeBreakPointCurrentName,\n\ttimeBreakPointsInit,\n\tdayTimeCurrent,\n\tdayTimePeriod,\n\tyearPeriod,\n\tlastDayTime,\n\tlastDayTimePeriod,\n\tlastYearPeriod,\n\tpositionLat,\n\tpositionLng,\n\tdaylightTimeout,\n\tDAYLIGHT = 'daylight',\n\tMORNING = 'morning',\n\tAFTERNOON = 'afternoon',\n\tEVENING = 'evening',\n\tNIGHT = 'night',\n\tDAYPERIODS = {\n\t\t0: NIGHT,\n\t\t1: NIGHT,\n\t\t2: NIGHT,\n\t\t3: NIGHT,\n\t\t4: NIGHT,\n\t\t5: NIGHT,\n\t\t6: MORNING,\n\t\t7: MORNING,\n\t\t8: MORNING,\n\t\t9: MORNING,\n\t\t10: MORNING,\n\t\t11: MORNING,\n\t\t12: AFTERNOON,\n\t\t13: AFTERNOON,\n\t\t14: AFTERNOON,\n\t\t15: AFTERNOON,\n\t\t16: AFTERNOON,\n\t\t17: EVENING,\n\t\t18: EVENING,\n\t\t19: EVENING,\n\t\t20: NIGHT,\n\t\t21: NIGHT,\n\t\t22: NIGHT,\n\t\t23: NIGHT,\n\t};\n\n/**\n * Returns actual day time period. One of morning, afternoon, evening or night.\n * @returns {String} Name of actual day time period.\n * @memberof module:time-based\n * @alias JS.Responsive.getDayTimePeriod\n * @since 3.0.0\n */\n$C.getDayTimePeriod = function () {\n\n\treturn dayTimePeriod;\n};\n\n/**\n * Returns actual year period. One of Spring, Summer, Autumn or Winter.\n * @returns {String} Name of actual day time period.\n * @memberof module:time-based\n * @alias JS.Responsive.getYearPeriod\n * @since 3.0.0\n */\n$C.getYearPeriod = function () {\n\n\treturn yearPeriod;\n};\n\n/**\n * Sets time brakepoints with classnames and start time value.\n * @param {Object[]} breakpoints - The employees who are responsible for the project.\n * @param {string} breakpoints[].name - The name of a breakpoint, this name will be used as className!\n * @param {Number} breakpoints[].time - The time after document load in [ms], breakpoint name will be applied.\n * @param {Number|Boolean} [breakpoints[].remains] - The time in [ms], breakpoint name will be removed (optional). Or TRUE value to prevent replacing with next breakpoint.\n * @example JS.Responsive.setTimeBreakPoints( config )\n * @memberof module:time-based\n * @alias JS.Responsive.setTimeBreakPoints\n * @since 3.0.0\n */\n$C.setTimeBreakPoints = function ( breakpoints ) {\n\tvar sinceReady;\n\tif ( docReadyTime )\n\t\t_initTimeBased();\n\telse\n\t\ttimeBreakPointsInit = _initTimeBased;\n\n\t// fn declarations\n\tfunction _initTimeBased() {\n\t\tvar now = +(new Date()),\n\t\t\ti = 0;\n\t\tsinceReady = now - docReadyTime;\n\n\t\t// sort by time\n\t\tbreakpoints.sort( function ( a, b ) {\n\t\t\treturn +(a.time > b.time) || +(a.time === b.time) - 1;\n\t\t} );\n\n\t\t// clear passed times\n\t\twhile ( breakpoints[ i ] && breakpoints[ i ].time < sinceReady )\n\t\t\tbreakpoints.shift();\n\n\t\t// clear running timeout if any\n\t\tif ( timeBreakPointTimeout )\n\t\t\tclearTimeout( timeBreakPointTimeout );\n\n\t\t// set new timeout for first breakpoint\n\t\tactivateNext();\n\t}\n\n\tfunction activateNext() {\n\t\tif ( !breakpoints[ 0 ] ) // no more breakpoints\n\t\t\treturn;\n\n\t\ttimeBreakPointTimeout = setTimeout( function () {\n\n\t\t\t// remove current breakpoint name\n\t\t\tremoveClass( timeBreakPointCurrentName );\n\n\t\t\t// apply new breakpoint\n\t\t\tvar bp = breakpoints.shift();\n\t\t\taddClass( bp.name );\n\n\t\t\t$C.emit( 'timeBreakpointReached', bp.name, timeBreakPointCurrentName );\n\t\t\ttimeBreakPointCurrentName = UNDEFINED;\n\n\t\t\tif ( !bp.remains ) {\n\t\t\t\t// next breakpoint will clear this one\n\t\t\t\ttimeBreakPointCurrentName = bp.name;\n\t\t\t}\n\n\t\t\tif ( bp.remains && bp.remains !== TRUE )\n\t\t\t\tsetTimeout( thenRemoveClass( bp.name ), bp.remains );\n\n\t\t\tactivateNext();\n\n\t\t}, breakpoints[ 0 ].time - sinceReady );\n\t}\n};\n\n/**\n * Set location to activate daylight detection classes\n * @returns {Boolean} true for daylight time span\n * @memberof module:time-based\n * @param {Number} lat - input latitude\n * @param {Number} lng - input longitude\n * @example JS.Responsive.setLocation( 48.136609, 17.107228 ); // Bratislava\n * @alias JS.Responsive.setLocation\n * @since 3.3.0\n */\n$C.setLocation = function ( lat, lng ) {\n\n\tpositionLat = lat;\n\tpositionLng = lng;\n\treturn $C.isDaylight();\n};\n\n/**\n * Returns actual daylight state\n * @returns {Boolean} true for daylight time span\n * @memberof module:time-based\n * @alias JS.Responsive.isDaylight\n * @since 3.3.0\n */\n$C.isDaylight = function () {\n\n\tif ( !positionLat )\n\t\tthrow new Error( 'Location not provided! You need to provide location, via setLocation( lan, lng ) method first!' );\n\n\tif ( daylightTimeout )\n\t\tclearTimeout( daylightTimeout );\n\n\tvar day = $C.dayOfYear();\n\tvar now = Date.now();\n\tvar sunrise = computeSunrise( day );\n\tvar sunset = computeSunset( day );\n\t// console.log( 'sunrise < now', sunrise < now, sunrise, now );\n\t// console.log( 'now < sunset', now < sunset, now, sunset );\n\tvar daylight = sunrise < now && now < sunset;\n\n\tif ( daylight )\n\t//                                               time to sunset + 10ms reserve\n\t\tdaylightTimeout = setTimeout( $C.isDaylight, sunset - now + 10 );\n\telse if ( now < sunrise )\n\t//                                               time to sunrise + 10ms reserve\n\t\tdaylightTimeout = setTimeout( $C.isDaylight, sunrise - now + 10 );\n\telse\n\t//                                               time to midnight + 10ms reserve\n\t\tdaylightTimeout = setTimeout( $C.isDaylight, new Date( now ).setHours( 24, 0, 0, 10 ) - now );\n\n\tremoveClass( DAYLIGHT + '-' + (!daylight).toString() );\n\taddClass( DAYLIGHT + '-' + daylight.toString() );\n\n\treturn daylight;\n};\n\n/**\n * @returns {Number} day of the year\n * @param {Date} [date] - input Date instance, dafault is new Date()\n * @memberof module:time-based\n * @alias JS.Responsive.dayOfYear\n * @since 3.3.0\n */\n$C.dayOfYear = function ( date ) {\n\n\tdate = date || new Date();\n\tvar start = new Date( date.getFullYear(), 0, 0 );\n\tvar diff = date - start;\n\tvar oneDay = 1000 * 60 * 60 * 24;\n\treturn Math.floor( diff / oneDay );\n};\n\n/**\n * @returns {Date} date object of sunrise calculated from provided date\n * @param {Date} [date] - input Date instance, dafault is new Date()\n * @memberof module:time-based\n * @alias JS.Responsive.getSunrise\n * @since 3.3.0\n */\n$C.getSunrise = function ( date ) {\n\n\treturn new Date( computeSunrise( $C.dayOfYear( date ) ) );\n};\n\n/**\n * @returns {Date} date object of sunrise calculated from provided date\n * @param {Date} [date] - input Date instance, dafault is new Date()\n * @memberof module:time-based\n * @alias JS.Responsive.getSunrise\n * @since 3.3.0\n */\n$C.getSunset = function ( date ) {\n\n\treturn new Date( computeSunset( $C.dayOfYear( date ) ) );\n};\n\n$C._features.timeBased = initTimeBased;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction initTimeBased() {\n\n\tvar now = new Date();\n\tdayTimeCurrent = 'day-time-' + now.getHours() + 'h';\n\tdayTimePeriod = DAYPERIODS[ now.getHours() ];\n\tyearPeriod = getYearPeriod( now );\n\n\tif ( docReadyTime ) {\n\t\ttimeBreakPointsInit();\n\t\trealInitTimeBased();\n\t} else {\n\t\t$C.on( 'documentReady', function () {\n\t\t\tif ( timeBreakPointsInit )\n\t\t\t\ttimeBreakPointsInit();\n\t\t\trealInitTimeBased();\n\t\t} );\n\t}\n}\n\nfunction realInitTimeBased() {\n\n\tvar now = new Date();\n\tsetClasses();\n\tif ( timeBreakPointsInit )\n\t\ttimeBreakPointsInit();\n\n\tsetInterval( function () {\n\t\tsetClasses();\n\t}, 60 * 60 * 1000 - (now.getMilliseconds() + now.getSeconds() + now.getMinutes()) );\n}\n\n// fn definitions\nfunction setClasses() {\n\n\tif ( lastDayTime != dayTimeCurrent ) {\n\t\tremoveClass( lastDayTime );\n\t\taddClass( dayTimeCurrent );\n\t\t$C.emit( 'changedDayTime', dayTimeCurrent, lastDayTime );\n\t\tlastDayTime = dayTimeCurrent;\n\n\t}\n\tif ( lastDayTimePeriod != dayTimePeriod ) {\n\t\tremoveClass( lastDayTimePeriod );\n\t\taddClass( dayTimePeriod );\n\t\t$C.emit( 'changedDayPeriod', dayTimePeriod, lastDayTimePeriod );\n\t\tlastDayTimePeriod = dayTimePeriod;\n\n\t}\n\tif ( lastYearPeriod != yearPeriod ) {\n\t\tremoveClass( lastYearPeriod );\n\t\taddClass( yearPeriod );\n\t\t$C.emit( 'changedYearPeriod', yearPeriod, lastYearPeriod );\n\t\tlastYearPeriod = yearPeriod;\n\n\t}\n}\n\nfunction getYearPeriod( date ) {\n\n\tvar year = date.getFullYear(),\n\t\tfirstDates = [\n\t\t\t{ date: new Date( year, 2, 20 ), name: 'spring' },\n\t\t\t{ date: new Date( year, 5, 21 ), name: 'summer' },\n\t\t\t{ date: new Date( year, 8, 23 ), name: 'autumn' },\n\t\t\t{ date: new Date( year, 11, 21 ), name: 'winter' }\n\t\t];\n\n\treturn testPeriod( 0 );\n\n\tfunction testPeriod( index ) {\n\n\t\tif ( date < firstDates[ index ].date )\n\t\t\tif ( !index ) // index === 0\n\t\t\t\treturn firstDates[ 3 ].name;\n\t\t\telse\n\t\t\t\treturn firstDates[ index - 1 ].name;\n\t\telse if ( firstDates[ ++index ] )\n\t\t\treturn testPeriod( index );\n\t\telse\n\t\t\treturn firstDates[ 0 ].name;\n\t}\n}\n\nfunction thenRemoveClass( className ) {\n\n\treturn function () {\n\t\tremoveClass( className );\n\t}\n}\n\n// Taken from https://gist.github.com/Tafkas/4742250\n// and fixed some things\nfunction computeSunrise( day, sunset ) {\n\n\tif ( !positionLat ) return;\n\n\t/*Sunrise/Sunset Algorithm taken from\n\t http://williams.best.vwh.net/sunrise_sunset_algorithm.htm\n\t inputs:\n\t day = day of the year\n\t sunset = true for sunset, false for sunrise\n\t output:\n\t unix time of sunrise/sunset in ms */\n\n\t//lat, lon for Berlin, Germany\n\tvar longitude = positionLng;\n\tvar latitude = positionLat;\n\tvar zenith = 90.83333333333333;\n\tvar D2R = Math.PI / 180;\n\tvar R2D = 180 / Math.PI;\n\n\t// convert the longitude to hour value and calculate an approximate time\n\tvar lnHour = longitude / 15;\n\tvar t;\n\tif ( sunset ) {\n\t\tt = day + ((18 - lnHour) / 24);\n\t} else {\n\t\tt = day + ((6 - lnHour) / 24);\n\t}\n\n\t//calculate the Sun's mean anomaly\n\tvar M = (0.9856 * t) - 3.289;\n\n\t//calculate the Sun's true longitude\n\tvar L = M + (1.916 * Math.sin( M * D2R )) + (0.020 * Math.sin( 2 * M * D2R )) + 282.634;\n\tif ( L > 360 ) {\n\t\tL = L - 360;\n\t} else if ( L < 0 ) {\n\t\tL = L + 360;\n\t}\n\n\t//calculate the Sun's right ascension\n\tvar RA = R2D * Math.atan( 0.91764 * Math.tan( L * D2R ) );\n\tif ( RA > 360 ) {\n\t\tRA = RA - 360;\n\t} else if ( RA < 0 ) {\n\t\tRA = RA + 360;\n\t}\n\n\t//right ascension value needs to be in the same qua\n\tvar Lquadrant = (Math.floor( L / (90) )) * 90;\n\tvar RAquadrant = (Math.floor( RA / 90 )) * 90;\n\tRA = RA + (Lquadrant - RAquadrant);\n\n\t//right ascension value needs to be converted into hours\n\tRA = RA / 15;\n\n\t//calculate the Sun's declination\n\tvar sinDec = 0.39782 * Math.sin( L * D2R );\n\tvar cosDec = Math.cos( Math.asin( sinDec ) );\n\n\t//calculate the Sun's local hour angle\n\tvar cosH = (Math.cos( zenith * D2R ) - (sinDec * Math.sin( latitude * D2R ))) / (cosDec * Math.cos( latitude * D2R ));\n\tvar H;\n\tif ( sunset ) {\n\t\tH = R2D * Math.acos( cosH );\n\t} else {\n\t\tH = 360 - R2D * Math.acos( cosH );\n\t}\n\n\tH = H / 15;\n\n\t//calculate local mean time of rising/setting\n\tvar T = H + RA - (0.06571 * t) - 6.622;\n\n\t//adjust back to UTC\n\tvar UT = T - lnHour;\n\tif ( UT > 24 ) {\n\t\tUT = UT - 24;\n\t} else if ( UT < 0 ) {\n\t\tUT = UT + 24;\n\t}\n\n\t//convert to Milliseconds\n\tvar now = new Date();\n\treturn new Date( now.getFullYear(), now.getMonth(), now.getDate() ).getTime() + ( UT * 3600 * 1000 );\n}\n\nfunction computeSunset( day ) {\n\n\treturn computeSunrise( day, true );\n}\r\n/**\n *\n * Detection of touch usage, because some devices are capable of touches even they are equipped with mouse,\n * so user can change usage of both inputs unexpectedly in time.\n * @module touch-vs-mouse\n * @pretty-name Touch usage detection\n * @teaser Is currently used mouse or touch?\n *\n * @custom-class user-is-using-touch\n * @custom-class user-is-using-mouse\n *\n * @emits changedUsingTouch - Arguments: {Boolean} isUsingTouch\n *\n **/\n\n/**\n * Returns information if is actually using touches.\n * @returns {Boolean|undefined} Returns true if using touches, false if using mouse, undefined if no use detected yet\n * @memberof module:touch-vs-mouse\n * @alias JS.Responsive.isUsingTouches\n * @since 3.0.0\n */\n\n\n$C.isUsingTouches = function () {\n\treturn touchVsMouseUsingTouch;\n};\n\nvar touchVsMouseLastTime = 0,\n\ttouchVsMouseUsingTouch;\n\n$C._features.isScrolling = initTouchVsMouse;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction initTouchVsMouse() {\n\tbind( document, 'touchstart', function () {\n\t\ttouchVsMouseLastTime = Date.now();\n\t\tif ( touchVsMouseUsingTouch )\n\t\t\treturn;\n\n\t\ttouchVsMouseUsingTouch = TRUE;\n\t\taddClass( 'user-is-using-touch' );\n\t\tremoveClass( 'user-is-using-mouse' );\n\t\t$C.emit( 'changedUsingTouch', TRUE );\n\t} );\n\n\tbind( document, 'mousemove', mouseHandler );\n\tbind( document, 'mousedown', mouseHandler );\n}\n\nfunction mouseHandler() {\n\tif ( touchVsMouseUsingTouch === FALSE || Date.now() - touchVsMouseLastTime < 1000 )\n\t\treturn;\n\n\ttouchVsMouseUsingTouch = FALSE;\n\taddClass( 'user-is-using-mouse' );\n\tremoveClass( 'user-is-using-touch' );\n\t$C.emit( 'changedUsingTouch', FALSE );\n}\r\n/**\n *\n * Url related classes representing url path.\n * @module url-based\n * @since 3.2.0\n * @pretty-name Url related classes\n * @teaser Classes representing url path.\n *\n * @custom-class page---$pathItem--$pathItem... - 'page-' is class name base identificator and then every '/item' is represented as '--item' in class\n * @custom-class hash---$pathItem--$pathItem... - same like page but for hash part of url\n *\n * @emits changedUrl - Arguments: {String} newUrl, {String} lastUrl\n *\n **/\n\nvar actualUrlClasses = {};\n\n/**\n * Method for use cases of SPA routers which dynamically changes url via js. If your router uses # before\n * navigation urls, like mypage.com/#/my/router/url. Then you don't need to use this method, as library is\n * listening on window hashchange event. And generates `hash-` classes accordingly.\n * @memberof module:url-based\n * @alias JS.Responsive.urlChanged\n * @since 3.2.0\n * @example JS.Responsive.urlChanged( '/my/router/url' );\n */\n$C.urlChanged = checkUrlChanges;\n\n$C._features.urlBased = initUrlBased;\n\n// Function declarations: ######################### ######################### ######################### ######################### ######################### ######################### #########################\n\nfunction initUrlBased() {\n\n\tbind( win, 'popstate', checkUrlChanges );\n\tbind( win, 'hashchange', checkUrlChanges );\n\tcheckUrlChanges();\n}\n\nfunction checkUrlChanges() {\n\n\t_checkUrlChanges( 'pathname', 'page-', 'pageUrlChanged' );\n\t_checkUrlChanges( 'hash', 'hash-', 'hashUrlChanged' );\n}\n\nfunction _checkUrlChanges( prop, prefix, evtName ) {\n\n\tvar converted = parseUrlItems( win.location[ prop ] ),\n\t\tnewClass = prefix + converted;\n\n\tif ( !converted || newClass == actualUrlClasses[ prop ] ) return;\n\n\tremoveClass( actualUrlClasses[ prop ] );\n\taddClass( newClass );\n\n\t$C.emit( evtName, newClass, actualUrlClasses[ prop ] );\n\tactualUrlClasses[ prop ] = newClass;\n}\n\nfunction parseUrlItems( path ) {\n\n\tif ( path == '/' ) return FALSE;\n\n\tvar parsed = path.split( '/' );\n\n\tparsed.shift(); // remove first item \"\"\n\n\treturn parsed.reduce( function ( result, item ) {\n\n\t\treturn result += '--' + item;\n\t}, '');\n}\n\n\t// -------------------------------------------------------------------------------------------------\n\t// --- PRIVATE -------------------------------------------------------------------------------------\n\t// -------------------------------------------------------------------------------------------------\n\n\t/**\n\t * Returns current window width in pixels.\n\t * @returns {Number}.\n\t */\n\tfunction getWindowWidth() {\n\n\t\treturn getWindowSize( WIDTH_STRING );\n\n\t}\n\n\t/**\n\t * Returns current window height in pixels.\n\t * @returns {Number}.\n\t */\n\tfunction getWindowHeight() {\n\n\t\treturn getWindowSize( HEIGHT_STRING );\n\n\t}\n\n\t/**\n\t * Returns current document width in pixels (can be smaller than window size because scrollbar reduces it).\n\t * @returns {Number}\n\t */\n\tfunction getDocumentWidth() {\n\n\t\treturn getDocumentSize( WIDTH_STRING );\n\n\t}\n\n\t/**\n\t * Returns current document height in pixels (can be smaller than window size because scrollbar reduces it).\n\t * @returns {Number}\n\t */\n\tfunction getDocumentHeight() {\n\n\t\treturn getDocumentSize( HEIGHT_STRING );\n\n\t}\n\n\n\t// @param (String) sizeType - 'width' or 'height'\n\tfunction getDocumentSize( sizeType ) {\n\n\t\tvar el = !isIE() ? getHtmlElement() : getBodyElement();\n\t\treturn el ? el[ 'offset' + ucFirst( sizeType ) ] : 0;\n\n\t}\n\n\t// @param (String) sizeType - 'width' or 'height'\n\tfunction getWindowSize( sizeType ) {\n\n\t\tvar ucSizeType = ucFirst( sizeType ),\n\t\t\tsize = win[ 'inner' + ucSizeType ],\n\t\t\tdocEl = document.documentElement;\n\t\treturn size || (docEl && docEl[ 'offset' + ucSizeType ] ? docEl[ 'client' + ucSizeType ] : screen[ sizeType ]);\n\n\t}\n\n\tvar htmlElement,\n\t\tbodyElement;\n\n\tfunction getElementByTagName( tagName ) {\n\n\t\treturn document.getElementsByTagName( tagName )[ 0 ];\n\n\t}\n\n\tfunction getHtmlElement() {\n\n\t\tif ( !htmlElement )\n\t\t\thtmlElement = getElementByTagName( 'html' );\n\t\treturn htmlElement;\n\n\t}\n\n\tfunction getBodyElement() {\n\n\t\tif ( !bodyElement )\n\t\t\tbodyElement = getElementByTagName( 'body' );\n\t\treturn bodyElement;\n\n\t}\n\n\n\tfunction arrayIndex( array, value, _exactMatch ) {\n\n\t\tfor ( var i = 0; i < array.length; i++ )\n\t\t\tif ( (_exactMatch && array[ i ] === value) || (!_exactMatch && array[ i ] == value) )\n\t\t\t\treturn i;\n\t\treturn -1;\n\n\t}\n\n\n\tfunction arrayContains( array, item, _exactMatch ) {\n\n\t\treturn arrayIndex( array, item, _exactMatch ) >= 0;\n\n\t}\n\n\n\tfunction arrayRemoveItemsStartingWith( array, startingWith ) {\n\n\t\tvar reg = new RegExp( '^' + startingWith );\n\t\tfor ( var i = 0; i < array.length; i++ )\n\t\t\tif ( array[ i ].match( reg ) ) {\n\t\t\t\tarray.splice( i, 1 );\n\t\t\t\ti--; // because of splice\n\t\t\t}\n\n\t}\n\n\n\tfunction bind( el, eventType, handlerFn ) {\n\n\t\tif ( el.addEventListener )\n\t\t\tel.addEventListener( eventType, fn, FALSE );\n\t\telse if ( el.attachEvent )\n\t\t\tel.attachEvent( 'on' + eventType, fn );\n\n\t\tfunction fn( e ) {\n\t\t\thandlerFn.call( NULL, e || event );\n\t\t}\n\n\t\treturn fn;\n\n\t}\n\n\n\tfunction unbind( el, eventType, handlerFn ) {\n\n\t\tif ( el.removeEventListener )\n\t\t\tel.removeEventListener( eventType, handlerFn, FALSE );\n\t\telse if ( el.detachEvent )\n\t\t\tel.detachEvent( 'on' + eventType, handlerFn );\n\n\t}\n\n\n\tfunction addClass( name ) {\n\n\t\tvar html = getHtmlElement();\n\t\tif ( !html ) return FALSE;\n\n\t\tif ( !isInTransactionClassMode ) {\n\t\t\tvar className = html.className;\n\t\t\t// remove double spaces and trim\n\t\t\tvar classes = className == EMPTY_STRING ?\n\t\t\t\t[] :\n\t\t\t\tclassName\n\t\t\t\t\t.replace( / +/g, SPACE_CHAR )\n\t\t\t\t\t.replace( /^\\s*|\\s*$/g, EMPTY_STRING )\n\t\t\t\t\t.split( SPACE_CHAR );\n\n\t\t\tif ( !arrayContains( classes, name ) ) {\n\t\t\t\tclasses.push( name );\n\t\t\t\thtml.className = classes.join( SPACE_CHAR );\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn FALSE;\n\t\t}\n\t\telse\n\t\t\taddTransactionClass( name );\n\n\t\treturn TRUE; // class added\n\t}\n\n\tfunction removeClass( name, startsWith ) {\n\n\t\tvar html = getHtmlElement();\n\t\tif ( html && name ) {\n\t\t\tif ( !isInTransactionClassMode ) {\n\t\t\t\tvar className = html.className,\n\t\t\t\t\tclasses = className == EMPTY_STRING ? [] : className.split( SPACE_CHAR );\n\n\t\t\t\tif ( startsWith ) {\n\t\t\t\t\tif ( className.indexOf( name ) == -1 )\n\t\t\t\t\t\treturn;\n\t\t\t\t\tarrayRemoveItemsStartingWith( classes, name );\n\t\t\t\t\thtml.className = classes.join( SPACE_CHAR );\n\t\t\t\t} else if ( arrayContains( classes, name ) ) {\n\t\t\t\t\tclasses.splice( arrayIndex( classes, name ), 1 );\n\t\t\t\t\thtml.className = classes.join( SPACE_CHAR );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tremoveTransactionClass( name );\n\t\t}\n\n\t}\n\n\tfunction hasClass( name ) {\n\n\t\tvar html = getHtmlElement();\n\t\tif ( html ) {\n\t\t\tvar classes = html.className.split( SPACE_CHAR );\n\t\t\treturn arrayContains( classes, name );\n\t\t}\n\t\treturn FALSE;\n\n\t}\n\n\n\tvar isInTransactionClassMode = FALSE,\n\t\taddedClasses = [],\n\t\tremovedClasses = [];\n\n\tfunction startTransactionClass() {\n\t\tisInTransactionClassMode = TRUE;\n\t\taddedClasses = [];\n\t\tremovedClasses = [];\n\t}\n\n\tfunction addTransactionClass( name ) {\n\t\t// if was removed, undo this state\n\t\tif ( arrayContains( removedClasses, name ) )\n\t\t\tremovedClasses.splice( arrayIndex( removedClasses, name ), 1 );\n\t\t// else adds if not already added\n\t\telse if ( !hasClass( name ) && !arrayContains( addedClasses, name ) )\n\t\t\taddedClasses.push( name );\n\t}\n\n\tfunction removeTransactionClass( name ) {\n\t\t// if was added, undo this state\n\t\tif ( arrayContains( addedClasses, name ) )\n\t\t\taddedClasses.splice( arrayIndex( addedClasses, name ), 1 );\n\t\t// else adds if not already added\n\t\telse if ( hasClass( name ) && !arrayContains( removedClasses, name ) )\n\t\t\tremovedClasses.push( name );\n\t}\n\n\tfunction commitTransactionClass() {\n\t\tisInTransactionClassMode = FALSE;\n\t\tfor ( var i = 0; i < removedClasses.length; i++ )\n\t\t\tremoveClass( removedClasses[ i ] );\n\t\t// adding in one punch\n\t\tif ( addedClasses.length )\n\t\t\taddClass( addedClasses.join( SPACE_CHAR ) );  //.replace(/^\\s*|\\s*$/g, EMPTY_STRING)\n\t\taddedClasses = [];\n\t\tremovedClasses = [];\n\t}\n\n\t/*\n\t // UNUSED\n\t function rollbackTransactionClass() {\n\t isInTransactionClassMode = FALSE;\n\t addedClasses = [];\n\t removedClasses = [];\n\t }\n\t */\n\n\t// capitalize first letter\n\tfunction ucFirst( str ) {\n\t\treturn str.charAt( 0 ).toUpperCase() + str.slice( 1 );\n\t}\n\n\tfunction isIE() {\n\t\treturn navigator.appName == 'Microsoft Internet Explorer';\n\t}\n\n\tvar isDocumentLoaded = FALSE,\n\t\tdocReadyTime;\n\n\n\tfunction winLoaded() {\n\n\t\tisDocumentLoaded = TRUE;\n\t\tdocReadyTime = +(new Date());\n\t\t\n\t\t$C.emit( 'documentReady', docReadyTime );\n\t}\n\n\n\t/**\n\t * Returns true if HTML element contains all given class names (space separated)\n\t * @returns {Boolean}\n\t */\n\tfunction hasAllTheseClasses( classNames ) {\n\n\t\tvar classes = classNames.split( SPACE_CHAR );\n\t\tfor ( var i = 0; i < classes.length; i++ ) {\n\t\t\tif ( classes[ i ] != EMPTY_STRING && !hasClass( classes[ i ] ) )\n\t\t\t\treturn FALSE;\n\t\t}\n\t\treturn TRUE;\n\t}\n\n\tfunction missingMethod( method ) {\n\t\treturn function () {\n\t\t\tthrow Error( 'Method \"' + method + '\" is not available in this bundle!' );\n\t\t}\n\t}\n\n\tfunction init( cfg ) {\n\n\t\tvar prop;\n\t\tif ( cfg ) // init features by config\n\n\t\t\tfor ( prop in cfg ) {\n\t\t\t\tif ( cfg.hasOwnProperty( prop ) ) {\n\t\t\t\t\tif ( $C._features[ prop ] )\n\t\t\t\t\t\t$C._features[ prop ]( prop );\n\t\t\t\t\telse  missingMethod( prop )();\n\t\t\t\t}\n\t\t\t}\n\t\telse // init all available features\n\n\t\t\tfor ( prop in $C._features ) {\n\t\t\t\t$C._features[ prop ].call( $C );\n\t\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------------------------------\n\t// --- INITIALIZATION ------------------------------------------------------------------------------\n\t// -------------------------------------------------------------------------------------------------\n\n\tif ( typeof module != 'undefined' )\n\t\tmodule.exports = $C;\n\n})();\n\n\n\n// WEBPACK FOOTER //\n// ../tmp/JS.Responsive.entryFull.js"],"sourceRoot":""}